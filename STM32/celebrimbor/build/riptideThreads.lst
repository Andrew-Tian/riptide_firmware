ARM GAS  /var/folders/7p/1_dhylqx7nl5s8914_0f_4w00000gn/T//cc4opAWs.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"riptideThreads.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.vHeartbeat,"ax",%progbits
  18              		.align	1
  19              		.global	vHeartbeat
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv4-sp-d16
  25              	vHeartbeat:
  26              	.LFB129:
  27              		.file 1 "riptideSTM/src/riptideThreads.c"
   1:riptideSTM/src/riptideThreads.c **** //
   2:riptideSTM/src/riptideThreads.c **** // Created by August R. Mason on 2/11/18.
   3:riptideSTM/src/riptideThreads.c **** //
   4:riptideSTM/src/riptideThreads.c **** 
   5:riptideSTM/src/riptideThreads.c **** #include "main.h"
   6:riptideSTM/src/riptideThreads.c **** #include "stm32f4xx_hal.h"
   7:riptideSTM/src/riptideThreads.c **** #include "cmsis_os.h"
   8:riptideSTM/src/riptideThreads.c **** #include "usb_device.h"
   9:riptideSTM/src/riptideThreads.c **** #include "usbd_cdc_if.h"
  10:riptideSTM/src/riptideThreads.c **** #include "stdio.h"
  11:riptideSTM/src/riptideThreads.c **** 
  12:riptideSTM/src/riptideThreads.c **** 
  13:riptideSTM/src/riptideThreads.c **** #include "riptideMain.h"
  14:riptideSTM/src/riptideThreads.c **** #include "riptideFunctions.h"
  15:riptideSTM/src/riptideThreads.c **** #include "riptidethreads.h"
  16:riptideSTM/src/riptideThreads.c **** //#include "../../Inc/main.h"
  17:riptideSTM/src/riptideThreads.c **** //#include "../../Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_gpio.h"
  18:riptideSTM/src/riptideThreads.c **** 
  19:riptideSTM/src/riptideThreads.c **** void vHeartbeat(void *pvParameters ){
  28              		.loc 1 19 0
  29              		.cfi_startproc
  30              		@ Volatile: function does not return.
  31              		@ args = 0, pretend = 0, frame = 16
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              	.LVL0:
  34 0000 00B5     		push	{lr}
  35              	.LCFI0:
  36              		.cfi_def_cfa_offset 4
  37              		.cfi_offset 14, -4
  38 0002 85B0     		sub	sp, sp, #20
  39              	.LCFI1:
ARM GAS  /var/folders/7p/1_dhylqx7nl5s8914_0f_4w00000gn/T//cc4opAWs.s 			page 2


  40              		.cfi_def_cfa_offset 24
  20:riptideSTM/src/riptideThreads.c **** 
  21:riptideSTM/src/riptideThreads.c ****     uint8_t HiMsg[] = "heartbeat\r\n";
  41              		.loc 1 21 0
  42 0004 0B4B     		ldr	r3, .L4
  43 0006 93E80700 		ldm	r3, {r0, r1, r2}
  44              	.LVL1:
  45 000a 04AB     		add	r3, sp, #16
  46 000c 03E90700 		stmdb	r3, {r0, r1, r2}
  47              	.L2:
  22:riptideSTM/src/riptideThreads.c ****     /* Infinite loop */
  23:riptideSTM/src/riptideThreads.c ****     for(;;) {
  24:riptideSTM/src/riptideThreads.c ****         HAL_GPIO_TogglePin(HeartBeat1_GPIO_Port, HeartBeat1_Pin);
  48              		.loc 1 24 0 discriminator 1
  49 0010 094C     		ldr	r4, .L4+4
  50 0012 4021     		movs	r1, #64
  51 0014 2046     		mov	r0, r4
  52 0016 FFF7FEFF 		bl	HAL_GPIO_TogglePin
  53              	.LVL2:
  25:riptideSTM/src/riptideThreads.c ****         HAL_GPIO_TogglePin(PC4_LED_GPIO_Port, PC4_LED_Pin);
  54              		.loc 1 25 0 discriminator 1
  55 001a 1021     		movs	r1, #16
  56 001c 2046     		mov	r0, r4
  57 001e FFF7FEFF 		bl	HAL_GPIO_TogglePin
  58              	.LVL3:
  26:riptideSTM/src/riptideThreads.c ****         //to note here, we do not nead the sizeof(msg)/sizeof(uint8_t)
  27:riptideSTM/src/riptideThreads.c ****         CDC_Transmit_HS(HiMsg, sizeof(HiMsg));
  59              		.loc 1 27 0 discriminator 1
  60 0022 0C21     		movs	r1, #12
  61 0024 01A8     		add	r0, sp, #4
  62 0026 FFF7FEFF 		bl	CDC_Transmit_HS
  63              	.LVL4:
  28:riptideSTM/src/riptideThreads.c ****         vTaskDelay(1000);
  64              		.loc 1 28 0 discriminator 1
  65 002a 4FF47A70 		mov	r0, #1000
  66 002e FFF7FEFF 		bl	vTaskDelay
  67              	.LVL5:
  68 0032 EDE7     		b	.L2
  69              	.L5:
  70              		.align	2
  71              	.L4:
  72 0034 00000000 		.word	.LC0
  73 0038 00080240 		.word	1073874944
  74              		.cfi_endproc
  75              	.LFE129:
  77              		.section	.text.vSwitchMonitor,"ax",%progbits
  78              		.align	1
  79              		.global	vSwitchMonitor
  80              		.syntax unified
  81              		.thumb
  82              		.thumb_func
  83              		.fpu fpv4-sp-d16
  85              	vSwitchMonitor:
  86              	.LFB130:
  29:riptideSTM/src/riptideThreads.c **** 
  30:riptideSTM/src/riptideThreads.c ****     }
  31:riptideSTM/src/riptideThreads.c **** 
ARM GAS  /var/folders/7p/1_dhylqx7nl5s8914_0f_4w00000gn/T//cc4opAWs.s 			page 3


  32:riptideSTM/src/riptideThreads.c **** }
  33:riptideSTM/src/riptideThreads.c **** 
  34:riptideSTM/src/riptideThreads.c **** void vSwitchMonitor(void *pvParameters){
  87              		.loc 1 34 0
  88              		.cfi_startproc
  89              		@ Volatile: function does not return.
  90              		@ args = 0, pretend = 0, frame = 16
  91              		@ frame_needed = 0, uses_anonymous_args = 0
  92              	.LVL6:
  93 0000 00B5     		push	{lr}
  94              	.LCFI2:
  95              		.cfi_def_cfa_offset 4
  96              		.cfi_offset 14, -4
  97 0002 85B0     		sub	sp, sp, #20
  98              	.LCFI3:
  99              		.cfi_def_cfa_offset 24
  35:riptideSTM/src/riptideThreads.c ****     uint8_t switchMessage[14] = "$$$$nnnnnn@@@@";
 100              		.loc 1 35 0
 101 0004 284B     		ldr	r3, .L21
 102 0006 6C46     		mov	r4, sp
 103 0008 0FCB     		ldm	r3, {r0, r1, r2, r3}
 104              	.LVL7:
 105 000a 07C4     		stmia	r4!, {r0, r1, r2}
 106 000c 2380     		strh	r3, [r4]	@ movhi
 107 000e 14E0     		b	.L13
 108              	.L14:
  36:riptideSTM/src/riptideThreads.c ****     //uint8_t switchMessage = "";
  37:riptideSTM/src/riptideThreads.c ****     for(;;){
  38:riptideSTM/src/riptideThreads.c ****         //You can read directly in to the the message without forcing a 1 or 0 but that returns
  39:riptideSTM/src/riptideThreads.c ****         //a weird block character when switch is closed which may be hard to parse later
  40:riptideSTM/src/riptideThreads.c ****         switchMessage [4] = HAL_GPIO_ReadPin(KillSwitch_GPIO_Port, KillSwitch_Pin)      ? '1' : '0'
 109              		.loc 1 40 0
 110 0010 3023     		movs	r3, #48
 111 0012 1AE0     		b	.L7
 112              	.L15:
  41:riptideSTM/src/riptideThreads.c ****         switchMessage [5] = HAL_GPIO_ReadPin(MissionStart_GPIO_Port, MissionStart_Pin)  ? '1' : '0'
 113              		.loc 1 41 0
 114 0014 3023     		movs	r3, #48
 115 0016 21E0     		b	.L8
 116              	.L16:
  42:riptideSTM/src/riptideThreads.c ****         switchMessage [6] = HAL_GPIO_ReadPin(Switch3_GPIO_Port, Switch3_Pin)            ? '1' : '0'
 117              		.loc 1 42 0
 118 0018 3023     		movs	r3, #48
 119 001a 28E0     		b	.L9
 120              	.L17:
  43:riptideSTM/src/riptideThreads.c ****         switchMessage [7] = HAL_GPIO_ReadPin(Switch4_GPIO_Port, Switch4_Pin)            ? '1' : '0'
 121              		.loc 1 43 0
 122 001c 3023     		movs	r3, #48
 123 001e 2FE0     		b	.L10
 124              	.L18:
  44:riptideSTM/src/riptideThreads.c ****         switchMessage [8] = HAL_GPIO_ReadPin(Switch5_GPIO_Port, Switch5_Pin)            ? '1' : '0'
 125              		.loc 1 44 0
 126 0020 3023     		movs	r3, #48
 127 0022 36E0     		b	.L11
 128              	.L19:
  45:riptideSTM/src/riptideThreads.c ****         switchMessage [9] = HAL_GPIO_ReadPin(Switch6_GPIO_Port, Switch6_Pin)            ? '1' : '0'
 129              		.loc 1 45 0
ARM GAS  /var/folders/7p/1_dhylqx7nl5s8914_0f_4w00000gn/T//cc4opAWs.s 			page 4


 130 0024 3023     		movs	r3, #48
 131              	.L12:
 132              		.loc 1 45 0 is_stmt 0 discriminator 4
 133 0026 8DF80930 		strb	r3, [sp, #9]
  46:riptideSTM/src/riptideThreads.c ****         CDC_Transmit_HS(switchMessage, sizeof(switchMessage));
 134              		.loc 1 46 0 is_stmt 1 discriminator 4
 135 002a 0E21     		movs	r1, #14
 136 002c 6846     		mov	r0, sp
 137 002e FFF7FEFF 		bl	CDC_Transmit_HS
 138              	.LVL8:
  47:riptideSTM/src/riptideThreads.c ****         vTaskDelay(900);
 139              		.loc 1 47 0 discriminator 4
 140 0032 4FF46170 		mov	r0, #900
 141 0036 FFF7FEFF 		bl	vTaskDelay
 142              	.LVL9:
 143              	.L13:
  40:riptideSTM/src/riptideThreads.c ****         switchMessage [5] = HAL_GPIO_ReadPin(MissionStart_GPIO_Port, MissionStart_Pin)  ? '1' : '0'
 144              		.loc 1 40 0
 145 003a 4FF40041 		mov	r1, #32768
 146 003e 1B48     		ldr	r0, .L21+4
 147 0040 FFF7FEFF 		bl	HAL_GPIO_ReadPin
 148              	.LVL10:
 149 0044 0028     		cmp	r0, #0
 150 0046 E3D0     		beq	.L14
 151 0048 3123     		movs	r3, #49
 152              	.L7:
  40:riptideSTM/src/riptideThreads.c ****         switchMessage [5] = HAL_GPIO_ReadPin(MissionStart_GPIO_Port, MissionStart_Pin)  ? '1' : '0'
 153              		.loc 1 40 0 is_stmt 0 discriminator 4
 154 004a 8DF80430 		strb	r3, [sp, #4]
  41:riptideSTM/src/riptideThreads.c ****         switchMessage [6] = HAL_GPIO_ReadPin(Switch3_GPIO_Port, Switch3_Pin)            ? '1' : '0'
 155              		.loc 1 41 0 is_stmt 1 discriminator 4
 156 004e 0121     		movs	r1, #1
 157 0050 1648     		ldr	r0, .L21+4
 158 0052 FFF7FEFF 		bl	HAL_GPIO_ReadPin
 159              	.LVL11:
 160 0056 0028     		cmp	r0, #0
 161 0058 DCD0     		beq	.L15
  41:riptideSTM/src/riptideThreads.c ****         switchMessage [6] = HAL_GPIO_ReadPin(Switch3_GPIO_Port, Switch3_Pin)            ? '1' : '0'
 162              		.loc 1 41 0 is_stmt 0
 163 005a 3123     		movs	r3, #49
 164              	.L8:
  41:riptideSTM/src/riptideThreads.c ****         switchMessage [6] = HAL_GPIO_ReadPin(Switch3_GPIO_Port, Switch3_Pin)            ? '1' : '0'
 165              		.loc 1 41 0 discriminator 4
 166 005c 8DF80530 		strb	r3, [sp, #5]
  42:riptideSTM/src/riptideThreads.c ****         switchMessage [7] = HAL_GPIO_ReadPin(Switch4_GPIO_Port, Switch4_Pin)            ? '1' : '0'
 167              		.loc 1 42 0 is_stmt 1 discriminator 4
 168 0060 0221     		movs	r1, #2
 169 0062 1248     		ldr	r0, .L21+4
 170 0064 FFF7FEFF 		bl	HAL_GPIO_ReadPin
 171              	.LVL12:
 172 0068 0028     		cmp	r0, #0
 173 006a D5D0     		beq	.L16
  42:riptideSTM/src/riptideThreads.c ****         switchMessage [7] = HAL_GPIO_ReadPin(Switch4_GPIO_Port, Switch4_Pin)            ? '1' : '0'
 174              		.loc 1 42 0 is_stmt 0
 175 006c 3123     		movs	r3, #49
 176              	.L9:
  42:riptideSTM/src/riptideThreads.c ****         switchMessage [7] = HAL_GPIO_ReadPin(Switch4_GPIO_Port, Switch4_Pin)            ? '1' : '0'
ARM GAS  /var/folders/7p/1_dhylqx7nl5s8914_0f_4w00000gn/T//cc4opAWs.s 			page 5


 177              		.loc 1 42 0 discriminator 4
 178 006e 8DF80630 		strb	r3, [sp, #6]
  43:riptideSTM/src/riptideThreads.c ****         switchMessage [8] = HAL_GPIO_ReadPin(Switch5_GPIO_Port, Switch5_Pin)            ? '1' : '0'
 179              		.loc 1 43 0 is_stmt 1 discriminator 4
 180 0072 0421     		movs	r1, #4
 181 0074 0D48     		ldr	r0, .L21+4
 182 0076 FFF7FEFF 		bl	HAL_GPIO_ReadPin
 183              	.LVL13:
 184 007a 0028     		cmp	r0, #0
 185 007c CED0     		beq	.L17
  43:riptideSTM/src/riptideThreads.c ****         switchMessage [8] = HAL_GPIO_ReadPin(Switch5_GPIO_Port, Switch5_Pin)            ? '1' : '0'
 186              		.loc 1 43 0 is_stmt 0
 187 007e 3123     		movs	r3, #49
 188              	.L10:
  43:riptideSTM/src/riptideThreads.c ****         switchMessage [8] = HAL_GPIO_ReadPin(Switch5_GPIO_Port, Switch5_Pin)            ? '1' : '0'
 189              		.loc 1 43 0 discriminator 4
 190 0080 8DF80730 		strb	r3, [sp, #7]
  44:riptideSTM/src/riptideThreads.c ****         switchMessage [9] = HAL_GPIO_ReadPin(Switch6_GPIO_Port, Switch6_Pin)            ? '1' : '0'
 191              		.loc 1 44 0 is_stmt 1 discriminator 4
 192 0084 0821     		movs	r1, #8
 193 0086 0948     		ldr	r0, .L21+4
 194 0088 FFF7FEFF 		bl	HAL_GPIO_ReadPin
 195              	.LVL14:
 196 008c 0028     		cmp	r0, #0
 197 008e C7D0     		beq	.L18
  44:riptideSTM/src/riptideThreads.c ****         switchMessage [9] = HAL_GPIO_ReadPin(Switch6_GPIO_Port, Switch6_Pin)            ? '1' : '0'
 198              		.loc 1 44 0 is_stmt 0
 199 0090 3123     		movs	r3, #49
 200              	.L11:
  44:riptideSTM/src/riptideThreads.c ****         switchMessage [9] = HAL_GPIO_ReadPin(Switch6_GPIO_Port, Switch6_Pin)            ? '1' : '0'
 201              		.loc 1 44 0 discriminator 4
 202 0092 8DF80830 		strb	r3, [sp, #8]
  45:riptideSTM/src/riptideThreads.c ****         CDC_Transmit_HS(switchMessage, sizeof(switchMessage));
 203              		.loc 1 45 0 is_stmt 1 discriminator 4
 204 0096 4FF48041 		mov	r1, #16384
 205 009a 0448     		ldr	r0, .L21+4
 206 009c FFF7FEFF 		bl	HAL_GPIO_ReadPin
 207              	.LVL15:
 208 00a0 0028     		cmp	r0, #0
 209 00a2 BFD0     		beq	.L19
  45:riptideSTM/src/riptideThreads.c ****         CDC_Transmit_HS(switchMessage, sizeof(switchMessage));
 210              		.loc 1 45 0 is_stmt 0
 211 00a4 3123     		movs	r3, #49
 212 00a6 BEE7     		b	.L12
 213              	.L22:
 214              		.align	2
 215              	.L21:
 216 00a8 00000000 		.word	.LANCHOR0
 217 00ac 00080240 		.word	1073874944
 218              		.cfi_endproc
 219              	.LFE130:
 221              		.section	.text.vKillSwitch,"ax",%progbits
 222              		.align	1
 223              		.global	vKillSwitch
 224              		.syntax unified
 225              		.thumb
 226              		.thumb_func
ARM GAS  /var/folders/7p/1_dhylqx7nl5s8914_0f_4w00000gn/T//cc4opAWs.s 			page 6


 227              		.fpu fpv4-sp-d16
 229              	vKillSwitch:
 230              	.LFB131:
  48:riptideSTM/src/riptideThreads.c ****     }
  49:riptideSTM/src/riptideThreads.c **** }
  50:riptideSTM/src/riptideThreads.c **** 
  51:riptideSTM/src/riptideThreads.c **** void vKillSwitch ( void *pvParameters ){
 231              		.loc 1 51 0 is_stmt 1
 232              		.cfi_startproc
 233              		@ Volatile: function does not return.
 234              		@ args = 0, pretend = 0, frame = 0
 235              		@ frame_needed = 0, uses_anonymous_args = 0
 236              	.LVL16:
 237 0000 08B5     		push	{r3, lr}
 238              	.LCFI4:
 239              		.cfi_def_cfa_offset 8
 240              		.cfi_offset 3, -8
 241              		.cfi_offset 14, -4
 242 0002 07E0     		b	.L26
 243              	.LVL17:
 244              	.L24:
  52:riptideSTM/src/riptideThreads.c ****   //variables ?
  53:riptideSTM/src/riptideThreads.c ****   for(;;){
  54:riptideSTM/src/riptideThreads.c ****     if( HAL_GPIO_ReadPin(KillSwitch_GPIO_Port,KillSwitch_Pin) == GPIO_PIN_RESET){
  55:riptideSTM/src/riptideThreads.c ****       resetPWM();
  56:riptideSTM/src/riptideThreads.c ****       HAL_GPIO_WritePin(PC4_LED_GPIO_Port, PC4_LED_Pin, GPIO_PIN_RESET);
  57:riptideSTM/src/riptideThreads.c **** 		} else {
  58:riptideSTM/src/riptideThreads.c **** 			HAL_GPIO_WritePin(PC4_LED_GPIO_Port, PC4_LED_Pin, GPIO_PIN_SET);
 245              		.loc 1 58 0
 246 0004 0122     		movs	r2, #1
 247 0006 1021     		movs	r1, #16
 248 0008 0A48     		ldr	r0, .L28
 249 000a FFF7FEFF 		bl	HAL_GPIO_WritePin
 250              	.LVL18:
 251              	.L25:
  59:riptideSTM/src/riptideThreads.c ****     }
  60:riptideSTM/src/riptideThreads.c ****     vTaskDelay(100);
 252              		.loc 1 60 0
 253 000e 6420     		movs	r0, #100
 254 0010 FFF7FEFF 		bl	vTaskDelay
 255              	.LVL19:
 256              	.L26:
  54:riptideSTM/src/riptideThreads.c ****       resetPWM();
 257              		.loc 1 54 0
 258 0014 4FF40041 		mov	r1, #32768
 259 0018 0648     		ldr	r0, .L28
 260 001a FFF7FEFF 		bl	HAL_GPIO_ReadPin
 261              	.LVL20:
 262 001e 0028     		cmp	r0, #0
 263 0020 F0D1     		bne	.L24
  55:riptideSTM/src/riptideThreads.c ****       HAL_GPIO_WritePin(PC4_LED_GPIO_Port, PC4_LED_Pin, GPIO_PIN_RESET);
 264              		.loc 1 55 0
 265 0022 FFF7FEFF 		bl	resetPWM
 266              	.LVL21:
  56:riptideSTM/src/riptideThreads.c **** 		} else {
 267              		.loc 1 56 0
 268 0026 0022     		movs	r2, #0
ARM GAS  /var/folders/7p/1_dhylqx7nl5s8914_0f_4w00000gn/T//cc4opAWs.s 			page 7


 269 0028 1021     		movs	r1, #16
 270 002a 0248     		ldr	r0, .L28
 271 002c FFF7FEFF 		bl	HAL_GPIO_WritePin
 272              	.LVL22:
 273 0030 EDE7     		b	.L25
 274              	.L29:
 275 0032 00BF     		.align	2
 276              	.L28:
 277 0034 00080240 		.word	1073874944
 278              		.cfi_endproc
 279              	.LFE131:
 281              		.global	__aeabi_f2d
 282              		.section	.text.vDepthSensor,"ax",%progbits
 283              		.align	1
 284              		.global	vDepthSensor
 285              		.syntax unified
 286              		.thumb
 287              		.thumb_func
 288              		.fpu fpv4-sp-d16
 290              	vDepthSensor:
 291              	.LFB132:
  61:riptideSTM/src/riptideThreads.c ****   }
  62:riptideSTM/src/riptideThreads.c **** }
  63:riptideSTM/src/riptideThreads.c **** 
  64:riptideSTM/src/riptideThreads.c **** void vDepthSensor(void *pvParameters) {
 292              		.loc 1 64 0
 293              		.cfi_startproc
 294              		@ args = 0, pretend = 0, frame = 120
 295              		@ frame_needed = 0, uses_anonymous_args = 0
 296              	.L31:
 297              	.LVL23:
 298 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 299              	.LCFI5:
 300              		.cfi_def_cfa_offset 20
 301              		.cfi_offset 4, -20
 302              		.cfi_offset 5, -16
 303              		.cfi_offset 6, -12
 304              		.cfi_offset 7, -8
 305              		.cfi_offset 14, -4
 306 0002 A1B0     		sub	sp, sp, #132
 307              	.LCFI6:
 308              		.cfi_def_cfa_offset 152
 309 0004 4AE0     		b	.L36
 310              	.LVL24:
 311              	.L33:
 312              	.LBB2:
  65:riptideSTM/src/riptideThreads.c **** 	// this is the reset point, in case of failure to initialize;
  66:riptideSTM/src/riptideThreads.c **** 	resetI2C: vTaskDelay(100);
  67:riptideSTM/src/riptideThreads.c **** 
  68:riptideSTM/src/riptideThreads.c **** 	uint16_t address_write = 0xEC;
  69:riptideSTM/src/riptideThreads.c **** 	uint16_t address_read = 0xED;
  70:riptideSTM/src/riptideThreads.c **** 	uint8_t reset = 0x1E;
  71:riptideSTM/src/riptideThreads.c **** 	uint8_t prom_read = 0xA0;
  72:riptideSTM/src/riptideThreads.c **** 	uint8_t prom_val = prom_read;
  73:riptideSTM/src/riptideThreads.c **** 	uint8_t read_d1 = 0x4A;
  74:riptideSTM/src/riptideThreads.c **** 	uint8_t read_d2 = 0x5A;
  75:riptideSTM/src/riptideThreads.c **** 	uint8_t read_adc = 0x00;
ARM GAS  /var/folders/7p/1_dhylqx7nl5s8914_0f_4w00000gn/T//cc4opAWs.s 			page 8


  76:riptideSTM/src/riptideThreads.c **** 
  77:riptideSTM/src/riptideThreads.c **** 	uint16_t calibration[8];
  78:riptideSTM/src/riptideThreads.c **** 	uint8_t buffer[3];
  79:riptideSTM/src/riptideThreads.c **** 
  80:riptideSTM/src/riptideThreads.c **** 	uint32_t d1;
  81:riptideSTM/src/riptideThreads.c **** 	uint32_t d2;
  82:riptideSTM/src/riptideThreads.c **** 
  83:riptideSTM/src/riptideThreads.c **** 	uint32_t temp;
  84:riptideSTM/src/riptideThreads.c **** 	uint32_t press;
  85:riptideSTM/src/riptideThreads.c **** 
  86:riptideSTM/src/riptideThreads.c **** 	float pressure;
  87:riptideSTM/src/riptideThreads.c **** 	float temperature;
  88:riptideSTM/src/riptideThreads.c **** 	float depth;
  89:riptideSTM/src/riptideThreads.c **** 	float altitude;
  90:riptideSTM/src/riptideThreads.c **** 	uint16_t fluidDensity = 1029;
  91:riptideSTM/src/riptideThreads.c **** 
  92:riptideSTM/src/riptideThreads.c **** 	I2C_HandleTypeDef *i2c = getI2CRef();
  93:riptideSTM/src/riptideThreads.c **** 
  94:riptideSTM/src/riptideThreads.c **** 	HAL_I2C_Master_Transmit(i2c, address_write, &reset, 1, 20);
  95:riptideSTM/src/riptideThreads.c **** 
  96:riptideSTM/src/riptideThreads.c **** 	vTaskDelay(50);
  97:riptideSTM/src/riptideThreads.c **** 
  98:riptideSTM/src/riptideThreads.c **** 	for (uint8_t i = 0; i < 7; i++) {
  99:riptideSTM/src/riptideThreads.c **** 
 100:riptideSTM/src/riptideThreads.c **** 		HAL_I2C_Master_Transmit(i2c, address_write, &prom_val, 1, 20);
 313              		.loc 1 100 0 discriminator 3
 314 0006 1425     		movs	r5, #20
 315 0008 0095     		str	r5, [sp]
 316 000a 0123     		movs	r3, #1
 317 000c 0DF17E02 		add	r2, sp, #126
 318 0010 EC21     		movs	r1, #236
 319 0012 3046     		mov	r0, r6
 320 0014 FFF7FEFF 		bl	HAL_I2C_Master_Transmit
 321              	.LVL25:
 101:riptideSTM/src/riptideThreads.c **** 		vTaskDelay(20);
 322              		.loc 1 101 0 discriminator 3
 323 0018 2846     		mov	r0, r5
 324 001a FFF7FEFF 		bl	vTaskDelay
 325              	.LVL26:
 102:riptideSTM/src/riptideThreads.c **** 		HAL_I2C_Master_Receive(i2c, address_read, buffer, 2, 20);
 326              		.loc 1 102 0 discriminator 3
 327 001e 0095     		str	r5, [sp]
 328 0020 0223     		movs	r3, #2
 329 0022 19AA     		add	r2, sp, #100
 330 0024 ED21     		movs	r1, #237
 331 0026 3046     		mov	r0, r6
 332 0028 FFF7FEFF 		bl	HAL_I2C_Master_Receive
 333              	.LVL27:
 103:riptideSTM/src/riptideThreads.c **** 		calibration[i] = (buffer[0] << 8) | buffer[1];
 334              		.loc 1 103 0 discriminator 3
 335 002c 9DF86420 		ldrb	r2, [sp, #100]	@ zero_extendqisi2
 336 0030 9DF86530 		ldrb	r3, [sp, #101]	@ zero_extendqisi2
 337 0034 43EA0223 		orr	r3, r3, r2, lsl #8
 338 0038 20AA     		add	r2, sp, #128
 339 003a 02EB4402 		add	r2, r2, r4, lsl #1
 340 003e 22F8183C 		strh	r3, [r2, #-24]	@ movhi
 104:riptideSTM/src/riptideThreads.c **** 
ARM GAS  /var/folders/7p/1_dhylqx7nl5s8914_0f_4w00000gn/T//cc4opAWs.s 			page 9


 105:riptideSTM/src/riptideThreads.c **** 		prom_val += 2;
 341              		.loc 1 105 0 discriminator 3
 342 0042 9DF87E30 		ldrb	r3, [sp, #126]	@ zero_extendqisi2
 343 0046 0233     		adds	r3, r3, #2
 344 0048 8DF87E30 		strb	r3, [sp, #126]
  98:riptideSTM/src/riptideThreads.c **** 
 345              		.loc 1 98 0 discriminator 3
 346 004c 0134     		adds	r4, r4, #1
 347              	.LVL28:
 348 004e E4B2     		uxtb	r4, r4
 349              	.LVL29:
 350              	.L32:
  98:riptideSTM/src/riptideThreads.c **** 
 351              		.loc 1 98 0 is_stmt 0 discriminator 1
 352 0050 062C     		cmp	r4, #6
 353 0052 D8D9     		bls	.L33
 354              	.LBE2:
 106:riptideSTM/src/riptideThreads.c **** 
 107:riptideSTM/src/riptideThreads.c **** 	}
 108:riptideSTM/src/riptideThreads.c **** 
 109:riptideSTM/src/riptideThreads.c **** 	uint8_t crcRead = calibration[0] >> 12;
 355              		.loc 1 109 0 is_stmt 1
 356 0054 20A8     		add	r0, sp, #128
 357 0056 30F8187D 		ldrh	r7, [r0, #-24]!
 358 005a 3F0B     		lsrs	r7, r7, #12
 359              	.LVL30:
 110:riptideSTM/src/riptideThreads.c **** 	uint8_t crcCalc = crc4(calibration);
 360              		.loc 1 110 0
 361 005c FFF7FEFF 		bl	crc4
 362              	.LVL31:
 363 0060 5FFA80FE 		uxtb	lr, r0
 364              	.LVL32:
 111:riptideSTM/src/riptideThreads.c **** 
 112:riptideSTM/src/riptideThreads.c **** 	uint8_t success[] = "initialization succeeded\r\n";
 365              		.loc 1 112 0
 366 0064 0DAC     		add	r4, sp, #52
 367              	.LVL33:
 368 0066 824D     		ldr	r5, .L39
 369 0068 0FCD     		ldmia	r5!, {r0, r1, r2, r3}
 370 006a 0FC4     		stmia	r4!, {r0, r1, r2, r3}
 371 006c 95E80700 		ldm	r5, {r0, r1, r2}
 372 0070 03C4     		stmia	r4!, {r0, r1}
 373 0072 24F8022B 		strh	r2, [r4], #2	@ movhi
 374 0076 120C     		lsrs	r2, r2, #16
 375 0078 2270     		strb	r2, [r4]
 113:riptideSTM/src/riptideThreads.c **** 	uint8_t failure[] = "initialization failed\r\n";
 376              		.loc 1 113 0
 377 007a 07AC     		add	r4, sp, #28
 378 007c 7D4D     		ldr	r5, .L39+4
 379 007e 0FCD     		ldmia	r5!, {r0, r1, r2, r3}
 380 0080 0FC4     		stmia	r4!, {r0, r1, r2, r3}
 381 0082 95E80300 		ldm	r5, {r0, r1}
 382 0086 84E80300 		stm	r4, {r0, r1}
 114:riptideSTM/src/riptideThreads.c **** 
 115:riptideSTM/src/riptideThreads.c **** 	if (crcRead == crcCalc) {
 383              		.loc 1 115 0
 384 008a 7745     		cmp	r7, lr
ARM GAS  /var/folders/7p/1_dhylqx7nl5s8914_0f_4w00000gn/T//cc4opAWs.s 			page 10


 385 008c 27D0     		beq	.L38
 116:riptideSTM/src/riptideThreads.c **** 		CDC_Transmit_HS(success, strlen(success));
 117:riptideSTM/src/riptideThreads.c **** 	} else {
 118:riptideSTM/src/riptideThreads.c **** 		CDC_Transmit_HS(failure, strlen(failure));
 386              		.loc 1 118 0
 387 008e 07A8     		add	r0, sp, #28
 388 0090 FFF7FEFF 		bl	strlen
 389              	.LVL34:
 390 0094 81B2     		uxth	r1, r0
 391 0096 07A8     		add	r0, sp, #28
 392 0098 FFF7FEFF 		bl	CDC_Transmit_HS
 393              	.LVL35:
 394              	.L36:
  66:riptideSTM/src/riptideThreads.c **** 
 395              		.loc 1 66 0
 396 009c 6420     		movs	r0, #100
 397 009e FFF7FEFF 		bl	vTaskDelay
 398              	.LVL36:
  70:riptideSTM/src/riptideThreads.c **** 	uint8_t prom_read = 0xA0;
 399              		.loc 1 70 0
 400 00a2 1E23     		movs	r3, #30
 401 00a4 8DF87F30 		strb	r3, [sp, #127]
 402              	.LVL37:
  72:riptideSTM/src/riptideThreads.c **** 	uint8_t read_d1 = 0x4A;
 403              		.loc 1 72 0
 404 00a8 A023     		movs	r3, #160
 405 00aa 8DF87E30 		strb	r3, [sp, #126]
  73:riptideSTM/src/riptideThreads.c **** 	uint8_t read_d2 = 0x5A;
 406              		.loc 1 73 0
 407 00ae 4A23     		movs	r3, #74
 408 00b0 8DF87D30 		strb	r3, [sp, #125]
  74:riptideSTM/src/riptideThreads.c **** 	uint8_t read_adc = 0x00;
 409              		.loc 1 74 0
 410 00b4 5A23     		movs	r3, #90
 411 00b6 8DF87C30 		strb	r3, [sp, #124]
  75:riptideSTM/src/riptideThreads.c **** 
 412              		.loc 1 75 0
 413 00ba 0024     		movs	r4, #0
 414 00bc 8DF87B40 		strb	r4, [sp, #123]
 415              	.LVL38:
  92:riptideSTM/src/riptideThreads.c **** 
 416              		.loc 1 92 0
 417 00c0 FFF7FEFF 		bl	getI2CRef
 418              	.LVL39:
 419 00c4 0646     		mov	r6, r0
 420              	.LVL40:
  94:riptideSTM/src/riptideThreads.c **** 
 421              		.loc 1 94 0
 422 00c6 1423     		movs	r3, #20
 423 00c8 0093     		str	r3, [sp]
 424 00ca 0123     		movs	r3, #1
 425 00cc 0DF17F02 		add	r2, sp, #127
 426 00d0 EC21     		movs	r1, #236
 427 00d2 FFF7FEFF 		bl	HAL_I2C_Master_Transmit
 428              	.LVL41:
  96:riptideSTM/src/riptideThreads.c **** 
 429              		.loc 1 96 0
ARM GAS  /var/folders/7p/1_dhylqx7nl5s8914_0f_4w00000gn/T//cc4opAWs.s 			page 11


 430 00d6 3220     		movs	r0, #50
 431 00d8 FFF7FEFF 		bl	vTaskDelay
 432              	.LVL42:
 433              	.LBB3:
  98:riptideSTM/src/riptideThreads.c **** 
 434              		.loc 1 98 0
 435 00dc B8E7     		b	.L32
 436              	.LVL43:
 437              	.L38:
 438              	.LBE3:
 116:riptideSTM/src/riptideThreads.c **** 	} else {
 439              		.loc 1 116 0
 440 00de 0DA8     		add	r0, sp, #52
 441 00e0 FFF7FEFF 		bl	strlen
 442              	.LVL44:
 443 00e4 81B2     		uxth	r1, r0
 444 00e6 0DA8     		add	r0, sp, #52
 445 00e8 FFF7FEFF 		bl	CDC_Transmit_HS
 446              	.LVL45:
 447              	.L35:
 448              	.LBB4:
 119:riptideSTM/src/riptideThreads.c **** 		goto resetI2C;
 120:riptideSTM/src/riptideThreads.c **** 	}
 121:riptideSTM/src/riptideThreads.c **** 
 122:riptideSTM/src/riptideThreads.c **** 
 123:riptideSTM/src/riptideThreads.c **** 	uint8_t values[20];
 124:riptideSTM/src/riptideThreads.c **** 	for(;;) {
 125:riptideSTM/src/riptideThreads.c **** 
 126:riptideSTM/src/riptideThreads.c **** 		HAL_I2C_Master_Transmit(i2c, address_write, &read_d1, 1, 20);
 449              		.loc 1 126 0 discriminator 1
 450 00ec 1425     		movs	r5, #20
 451 00ee 0095     		str	r5, [sp]
 452 00f0 0123     		movs	r3, #1
 453 00f2 0DF17D02 		add	r2, sp, #125
 454 00f6 EC21     		movs	r1, #236
 455 00f8 3046     		mov	r0, r6
 456 00fa FFF7FEFF 		bl	HAL_I2C_Master_Transmit
 457              	.LVL46:
 127:riptideSTM/src/riptideThreads.c **** 		vTaskDelay(20);
 458              		.loc 1 127 0 discriminator 1
 459 00fe 2846     		mov	r0, r5
 460 0100 FFF7FEFF 		bl	vTaskDelay
 461              	.LVL47:
 128:riptideSTM/src/riptideThreads.c **** 		HAL_I2C_Master_Transmit(i2c, address_write, &read_adc, 1, 20);
 462              		.loc 1 128 0 discriminator 1
 463 0104 0095     		str	r5, [sp]
 464 0106 0123     		movs	r3, #1
 465 0108 0DF17B02 		add	r2, sp, #123
 466 010c EC21     		movs	r1, #236
 467 010e 3046     		mov	r0, r6
 468 0110 FFF7FEFF 		bl	HAL_I2C_Master_Transmit
 469              	.LVL48:
 129:riptideSTM/src/riptideThreads.c **** 		vTaskDelay(20);
 470              		.loc 1 129 0 discriminator 1
 471 0114 2846     		mov	r0, r5
 472 0116 FFF7FEFF 		bl	vTaskDelay
 473              	.LVL49:
ARM GAS  /var/folders/7p/1_dhylqx7nl5s8914_0f_4w00000gn/T//cc4opAWs.s 			page 12


 130:riptideSTM/src/riptideThreads.c **** 
 131:riptideSTM/src/riptideThreads.c **** 		HAL_I2C_Master_Receive(i2c, address_read, buffer, 3, 20);
 474              		.loc 1 131 0 discriminator 1
 475 011a 0095     		str	r5, [sp]
 476 011c 0323     		movs	r3, #3
 477 011e 19AA     		add	r2, sp, #100
 478 0120 ED21     		movs	r1, #237
 479 0122 3046     		mov	r0, r6
 480 0124 FFF7FEFF 		bl	HAL_I2C_Master_Receive
 481              	.LVL50:
 132:riptideSTM/src/riptideThreads.c **** 		d1 = buffer[0];
 482              		.loc 1 132 0 discriminator 1
 483 0128 9DF86430 		ldrb	r3, [sp, #100]	@ zero_extendqisi2
 484              	.LVL51:
 133:riptideSTM/src/riptideThreads.c **** 		d1 = d1 << 8 | buffer[1];
 485              		.loc 1 133 0 discriminator 1
 486 012c 9DF86540 		ldrb	r4, [sp, #101]	@ zero_extendqisi2
 487 0130 44EA0323 		orr	r3, r4, r3, lsl #8
 488              	.LVL52:
 134:riptideSTM/src/riptideThreads.c **** 		d1 = d1 << 8 | buffer[2];
 489              		.loc 1 134 0 discriminator 1
 490 0134 9DF86640 		ldrb	r4, [sp, #102]	@ zero_extendqisi2
 491 0138 44EA0324 		orr	r4, r4, r3, lsl #8
 492              	.LVL53:
 135:riptideSTM/src/riptideThreads.c **** 
 136:riptideSTM/src/riptideThreads.c **** 		HAL_I2C_Master_Transmit(i2c, address_write, &read_d2, 1, 30);
 493              		.loc 1 136 0 discriminator 1
 494 013c 1E27     		movs	r7, #30
 495 013e 0097     		str	r7, [sp]
 496 0140 0123     		movs	r3, #1
 497 0142 1FAA     		add	r2, sp, #124
 498 0144 EC21     		movs	r1, #236
 499 0146 3046     		mov	r0, r6
 500 0148 FFF7FEFF 		bl	HAL_I2C_Master_Transmit
 501              	.LVL54:
 137:riptideSTM/src/riptideThreads.c **** 		vTaskDelay(20);
 502              		.loc 1 137 0 discriminator 1
 503 014c 2846     		mov	r0, r5
 504 014e FFF7FEFF 		bl	vTaskDelay
 505              	.LVL55:
 138:riptideSTM/src/riptideThreads.c **** 		HAL_I2C_Master_Transmit(i2c, address_write, &read_adc, 1, 30);
 506              		.loc 1 138 0 discriminator 1
 507 0152 0097     		str	r7, [sp]
 508 0154 0123     		movs	r3, #1
 509 0156 0DF17B02 		add	r2, sp, #123
 510 015a EC21     		movs	r1, #236
 511 015c 3046     		mov	r0, r6
 512 015e FFF7FEFF 		bl	HAL_I2C_Master_Transmit
 513              	.LVL56:
 139:riptideSTM/src/riptideThreads.c **** 		vTaskDelay(20);
 514              		.loc 1 139 0 discriminator 1
 515 0162 2846     		mov	r0, r5
 516 0164 FFF7FEFF 		bl	vTaskDelay
 517              	.LVL57:
 140:riptideSTM/src/riptideThreads.c **** 
 141:riptideSTM/src/riptideThreads.c **** 		HAL_I2C_Master_Receive(i2c, address_read, buffer, 3, 30);
 518              		.loc 1 141 0 discriminator 1
ARM GAS  /var/folders/7p/1_dhylqx7nl5s8914_0f_4w00000gn/T//cc4opAWs.s 			page 13


 519 0168 0097     		str	r7, [sp]
 520 016a 0323     		movs	r3, #3
 521 016c 19AA     		add	r2, sp, #100
 522 016e ED21     		movs	r1, #237
 523 0170 3046     		mov	r0, r6
 524 0172 FFF7FEFF 		bl	HAL_I2C_Master_Receive
 525              	.LVL58:
 142:riptideSTM/src/riptideThreads.c **** 		d2 = buffer[0];
 526              		.loc 1 142 0 discriminator 1
 527 0176 9DF86430 		ldrb	r3, [sp, #100]	@ zero_extendqisi2
 528              	.LVL59:
 143:riptideSTM/src/riptideThreads.c **** 		d2 = d2 << 8 | buffer[1];
 529              		.loc 1 143 0 discriminator 1
 530 017a 9DF86510 		ldrb	r1, [sp, #101]	@ zero_extendqisi2
 531 017e 41EA0321 		orr	r1, r1, r3, lsl #8
 532              	.LVL60:
 144:riptideSTM/src/riptideThreads.c **** 		d2 = d2 << 8 | buffer[2];
 533              		.loc 1 144 0 discriminator 1
 534 0182 9DF86600 		ldrb	r0, [sp, #102]	@ zero_extendqisi2
 535              	.LVL61:
 145:riptideSTM/src/riptideThreads.c **** 
 146:riptideSTM/src/riptideThreads.c **** 		calculate(d1, d2, calibration, &temp, &press);
 536              		.loc 1 146 0 discriminator 1
 537 0186 17AF     		add	r7, sp, #92
 538 0188 0097     		str	r7, [sp]
 539 018a 18AB     		add	r3, sp, #96
 540 018c 1AAA     		add	r2, sp, #104
 541 018e 40EA0121 		orr	r1, r0, r1, lsl #8
 542              	.LVL62:
 543 0192 2046     		mov	r0, r4
 544 0194 FFF7FEFF 		bl	calculate
 545              	.LVL63:
 147:riptideSTM/src/riptideThreads.c **** 		convert(&temp, &press, &temperature, &pressure, &depth, fluidDensity);
 546              		.loc 1 147 0 discriminator 1
 547 0198 40F20543 		movw	r3, #1029
 548 019c 0193     		str	r3, [sp, #4]
 549 019e 14AB     		add	r3, sp, #80
 550 01a0 0093     		str	r3, [sp]
 551 01a2 16AB     		add	r3, sp, #88
 552 01a4 15AA     		add	r2, sp, #84
 553 01a6 3946     		mov	r1, r7
 554 01a8 18A8     		add	r0, sp, #96
 555 01aa FFF7FEFF 		bl	convert
 556              	.LVL64:
 148:riptideSTM/src/riptideThreads.c **** 
 149:riptideSTM/src/riptideThreads.c **** 		memset(values, 0, sizeof(values));
 557              		.loc 1 149 0 discriminator 1
 558 01ae 0024     		movs	r4, #0
 559              	.LVL65:
 560 01b0 0294     		str	r4, [sp, #8]
 561 01b2 0394     		str	r4, [sp, #12]
 562 01b4 0494     		str	r4, [sp, #16]
 563 01b6 0594     		str	r4, [sp, #20]
 564 01b8 0694     		str	r4, [sp, #24]
 150:riptideSTM/src/riptideThreads.c **** 		gcvt(temperature, 20, values);
 565              		.loc 1 150 0 discriminator 1
 566 01ba 1598     		ldr	r0, [sp, #84]	@ float
ARM GAS  /var/folders/7p/1_dhylqx7nl5s8914_0f_4w00000gn/T//cc4opAWs.s 			page 14


 567 01bc FFF7FEFF 		bl	__aeabi_f2d
 568              	.LVL66:
 569 01c0 41EC100B 		vmov	d0, r0, r1
 570 01c4 02A9     		add	r1, sp, #8
 571 01c6 2846     		mov	r0, r5
 572 01c8 FFF7FEFF 		bl	gcvt
 573              	.LVL67:
 151:riptideSTM/src/riptideThreads.c **** 		CDC_Transmit_HS(values, strlen(values));
 574              		.loc 1 151 0 discriminator 1
 575 01cc 02A8     		add	r0, sp, #8
 576 01ce FFF7FEFF 		bl	strlen
 577              	.LVL68:
 578 01d2 81B2     		uxth	r1, r0
 579 01d4 02A8     		add	r0, sp, #8
 580 01d6 FFF7FEFF 		bl	CDC_Transmit_HS
 581              	.LVL69:
 152:riptideSTM/src/riptideThreads.c **** 		vTaskDelay(5);
 582              		.loc 1 152 0 discriminator 1
 583 01da 0520     		movs	r0, #5
 584 01dc FFF7FEFF 		bl	vTaskDelay
 585              	.LVL70:
 153:riptideSTM/src/riptideThreads.c **** 		CDC_Transmit_HS("\r\n", 2);
 586              		.loc 1 153 0 discriminator 1
 587 01e0 254F     		ldr	r7, .L39+8
 588 01e2 0221     		movs	r1, #2
 589 01e4 3846     		mov	r0, r7
 590 01e6 FFF7FEFF 		bl	CDC_Transmit_HS
 591              	.LVL71:
 154:riptideSTM/src/riptideThreads.c **** 
 155:riptideSTM/src/riptideThreads.c **** 		vTaskDelay(10);
 592              		.loc 1 155 0 discriminator 1
 593 01ea 0A20     		movs	r0, #10
 594 01ec FFF7FEFF 		bl	vTaskDelay
 595              	.LVL72:
 156:riptideSTM/src/riptideThreads.c **** 
 157:riptideSTM/src/riptideThreads.c **** 		memset(values, 0, sizeof(values));
 596              		.loc 1 157 0 discriminator 1
 597 01f0 0294     		str	r4, [sp, #8]
 598 01f2 0394     		str	r4, [sp, #12]
 599 01f4 0494     		str	r4, [sp, #16]
 600 01f6 0594     		str	r4, [sp, #20]
 601 01f8 0694     		str	r4, [sp, #24]
 158:riptideSTM/src/riptideThreads.c **** 		gcvt(pressure, 20, values);
 602              		.loc 1 158 0 discriminator 1
 603 01fa 1698     		ldr	r0, [sp, #88]	@ float
 604 01fc FFF7FEFF 		bl	__aeabi_f2d
 605              	.LVL73:
 606 0200 41EC100B 		vmov	d0, r0, r1
 607 0204 02A9     		add	r1, sp, #8
 608 0206 2846     		mov	r0, r5
 609 0208 FFF7FEFF 		bl	gcvt
 610              	.LVL74:
 159:riptideSTM/src/riptideThreads.c **** 		CDC_Transmit_HS(values, strlen(values));
 611              		.loc 1 159 0 discriminator 1
 612 020c 02A8     		add	r0, sp, #8
 613 020e FFF7FEFF 		bl	strlen
 614              	.LVL75:
ARM GAS  /var/folders/7p/1_dhylqx7nl5s8914_0f_4w00000gn/T//cc4opAWs.s 			page 15


 615 0212 81B2     		uxth	r1, r0
 616 0214 02A8     		add	r0, sp, #8
 617 0216 FFF7FEFF 		bl	CDC_Transmit_HS
 618              	.LVL76:
 160:riptideSTM/src/riptideThreads.c **** 		vTaskDelay(5);
 619              		.loc 1 160 0 discriminator 1
 620 021a 0520     		movs	r0, #5
 621 021c FFF7FEFF 		bl	vTaskDelay
 622              	.LVL77:
 161:riptideSTM/src/riptideThreads.c **** 		CDC_Transmit_HS("\r\n", 2);
 623              		.loc 1 161 0 discriminator 1
 624 0220 0221     		movs	r1, #2
 625 0222 3846     		mov	r0, r7
 626 0224 FFF7FEFF 		bl	CDC_Transmit_HS
 627              	.LVL78:
 162:riptideSTM/src/riptideThreads.c **** 
 163:riptideSTM/src/riptideThreads.c **** 		vTaskDelay(10);
 628              		.loc 1 163 0 discriminator 1
 629 0228 0A20     		movs	r0, #10
 630 022a FFF7FEFF 		bl	vTaskDelay
 631              	.LVL79:
 164:riptideSTM/src/riptideThreads.c **** 
 165:riptideSTM/src/riptideThreads.c **** 		memset(values, 0, sizeof(values));
 632              		.loc 1 165 0 discriminator 1
 633 022e 0294     		str	r4, [sp, #8]
 634 0230 0394     		str	r4, [sp, #12]
 635 0232 0494     		str	r4, [sp, #16]
 636 0234 0594     		str	r4, [sp, #20]
 637 0236 0694     		str	r4, [sp, #24]
 166:riptideSTM/src/riptideThreads.c **** 		gcvt(depth, 20, values);
 638              		.loc 1 166 0 discriminator 1
 639 0238 1498     		ldr	r0, [sp, #80]	@ float
 640 023a FFF7FEFF 		bl	__aeabi_f2d
 641              	.LVL80:
 642 023e 41EC100B 		vmov	d0, r0, r1
 643 0242 02A9     		add	r1, sp, #8
 644 0244 2846     		mov	r0, r5
 645 0246 FFF7FEFF 		bl	gcvt
 646              	.LVL81:
 167:riptideSTM/src/riptideThreads.c **** 		CDC_Transmit_HS(values, strlen(values));
 647              		.loc 1 167 0 discriminator 1
 648 024a 02A8     		add	r0, sp, #8
 649 024c FFF7FEFF 		bl	strlen
 650              	.LVL82:
 651 0250 81B2     		uxth	r1, r0
 652 0252 02A8     		add	r0, sp, #8
 653 0254 FFF7FEFF 		bl	CDC_Transmit_HS
 654              	.LVL83:
 168:riptideSTM/src/riptideThreads.c **** 		vTaskDelay(5);
 655              		.loc 1 168 0 discriminator 1
 656 0258 0520     		movs	r0, #5
 657 025a FFF7FEFF 		bl	vTaskDelay
 658              	.LVL84:
 169:riptideSTM/src/riptideThreads.c **** 		CDC_Transmit_HS("\r\n", 2);
 659              		.loc 1 169 0 discriminator 1
 660 025e 0221     		movs	r1, #2
 661 0260 3846     		mov	r0, r7
ARM GAS  /var/folders/7p/1_dhylqx7nl5s8914_0f_4w00000gn/T//cc4opAWs.s 			page 16


 662 0262 FFF7FEFF 		bl	CDC_Transmit_HS
 663              	.LVL85:
 170:riptideSTM/src/riptideThreads.c **** 
 171:riptideSTM/src/riptideThreads.c **** 
 172:riptideSTM/src/riptideThreads.c **** 		vTaskDelay(200);
 664              		.loc 1 172 0 discriminator 1
 665 0266 C820     		movs	r0, #200
 666 0268 FFF7FEFF 		bl	vTaskDelay
 667              	.LVL86:
 668 026c 3EE7     		b	.L35
 669              	.L40:
 670 026e 00BF     		.align	2
 671              	.L39:
 672 0270 04000000 		.word	.LC2
 673 0274 20000000 		.word	.LC3
 674 0278 00000000 		.word	.LC4
 675              	.LBE4:
 676              		.cfi_endproc
 677              	.LFE132:
 679              		.section	.rodata
 680              		.align	2
 681              		.set	.LANCHOR0,. + 0
 682              	.LC1:
 683 0000 24242424 		.ascii	"$$$$nnnnnn@@@@\000"
 683      6E6E6E6E 
 683      6E6E4040 
 683      404000
 684              		.section	.rodata.vDepthSensor.str1.4,"aMS",%progbits,1
 685              		.align	2
 686              	.LC4:
 687 0000 0D0A00   		.ascii	"\015\012\000"
 688 0003 00       		.space	1
 689              	.LC2:
 690 0004 696E6974 		.ascii	"initialization succeeded\015\012\000"
 690      69616C69 
 690      7A617469 
 690      6F6E2073 
 690      75636365 
 691 001f 00       		.space	1
 692              	.LC3:
 693 0020 696E6974 		.ascii	"initialization failed\015\012\000"
 693      69616C69 
 693      7A617469 
 693      6F6E2066 
 693      61696C65 
 694              		.section	.rodata.vHeartbeat.str1.4,"aMS",%progbits,1
 695              		.align	2
 696              	.LC0:
 697 0000 68656172 		.ascii	"heartbeat\015\012\000"
 697      74626561 
 697      740D0A00 
 698              		.text
 699              	.Letext0:
 700              		.file 2 "/Users/augustmason/Documents/gitHub/riptide_firmware/STM32/gcc-arm-none-eabi-6-2017-q2-up
 701              		.file 3 "/Users/augustmason/Documents/gitHub/riptide_firmware/STM32/gcc-arm-none-eabi-6-2017-q2-up
 702              		.file 4 "Drivers/CMSIS/Include/core_cm4.h"
 703              		.file 5 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/system_stm32f4xx.h"
ARM GAS  /var/folders/7p/1_dhylqx7nl5s8914_0f_4w00000gn/T//cc4opAWs.s 			page 17


 704              		.file 6 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f405xx.h"
 705              		.file 7 "/Users/augustmason/Documents/gitHub/riptide_firmware/STM32/gcc-arm-none-eabi-6-2017-q2-up
 706              		.file 8 "/Users/augustmason/Documents/gitHub/riptide_firmware/STM32/gcc-arm-none-eabi-6-2017-q2-up
 707              		.file 9 "/Users/augustmason/Documents/gitHub/riptide_firmware/STM32/gcc-arm-none-eabi-6-2017-q2-up
 708              		.file 10 "/Users/augustmason/Documents/gitHub/riptide_firmware/STM32/gcc-arm-none-eabi-6-2017-q2-u
 709              		.file 11 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 710              		.file 12 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_gpio.h"
 711              		.file 13 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_dma.h"
 712              		.file 14 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_i2c.h"
 713              		.file 15 "/Users/augustmason/Documents/gitHub/riptide_firmware/STM32/gcc-arm-none-eabi-6-2017-q2-u
 714              		.file 16 "Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h"
 715              		.file 17 "Inc/usb_device.h"
 716              		.file 18 "Middlewares/ST/STM32_USB_Device_Library/Class/CDC/Inc/usbd_cdc.h"
 717              		.file 19 "Inc/usbd_cdc_if.h"
 718              		.file 20 "Middlewares/Third_Party/FreeRTOS/Source/include/task.h"
 719              		.file 21 "riptideSTM/inc/riptideFunctions.h"
 720              		.file 22 "/Users/augustmason/Documents/gitHub/riptide_firmware/STM32/gcc-arm-none-eabi-6-2017-q2-u
 721              		.file 23 "Inc/main.h"
ARM GAS  /var/folders/7p/1_dhylqx7nl5s8914_0f_4w00000gn/T//cc4opAWs.s 			page 18


DEFINED SYMBOLS
                            *ABS*:0000000000000000 riptideThreads.c
/var/folders/7p/1_dhylqx7nl5s8914_0f_4w00000gn/T//cc4opAWs.s:18     .text.vHeartbeat:0000000000000000 $t
/var/folders/7p/1_dhylqx7nl5s8914_0f_4w00000gn/T//cc4opAWs.s:25     .text.vHeartbeat:0000000000000000 vHeartbeat
/var/folders/7p/1_dhylqx7nl5s8914_0f_4w00000gn/T//cc4opAWs.s:72     .text.vHeartbeat:0000000000000034 $d
/var/folders/7p/1_dhylqx7nl5s8914_0f_4w00000gn/T//cc4opAWs.s:78     .text.vSwitchMonitor:0000000000000000 $t
/var/folders/7p/1_dhylqx7nl5s8914_0f_4w00000gn/T//cc4opAWs.s:85     .text.vSwitchMonitor:0000000000000000 vSwitchMonitor
/var/folders/7p/1_dhylqx7nl5s8914_0f_4w00000gn/T//cc4opAWs.s:216    .text.vSwitchMonitor:00000000000000a8 $d
/var/folders/7p/1_dhylqx7nl5s8914_0f_4w00000gn/T//cc4opAWs.s:222    .text.vKillSwitch:0000000000000000 $t
/var/folders/7p/1_dhylqx7nl5s8914_0f_4w00000gn/T//cc4opAWs.s:229    .text.vKillSwitch:0000000000000000 vKillSwitch
/var/folders/7p/1_dhylqx7nl5s8914_0f_4w00000gn/T//cc4opAWs.s:277    .text.vKillSwitch:0000000000000034 $d
/var/folders/7p/1_dhylqx7nl5s8914_0f_4w00000gn/T//cc4opAWs.s:283    .text.vDepthSensor:0000000000000000 $t
/var/folders/7p/1_dhylqx7nl5s8914_0f_4w00000gn/T//cc4opAWs.s:290    .text.vDepthSensor:0000000000000000 vDepthSensor
/var/folders/7p/1_dhylqx7nl5s8914_0f_4w00000gn/T//cc4opAWs.s:672    .text.vDepthSensor:0000000000000270 $d
/var/folders/7p/1_dhylqx7nl5s8914_0f_4w00000gn/T//cc4opAWs.s:680    .rodata:0000000000000000 $d
/var/folders/7p/1_dhylqx7nl5s8914_0f_4w00000gn/T//cc4opAWs.s:685    .rodata.vDepthSensor.str1.4:0000000000000000 $d
/var/folders/7p/1_dhylqx7nl5s8914_0f_4w00000gn/T//cc4opAWs.s:695    .rodata.vHeartbeat.str1.4:0000000000000000 $d
                     .debug_frame:0000000000000010 $d

UNDEFINED SYMBOLS
HAL_GPIO_TogglePin
CDC_Transmit_HS
vTaskDelay
HAL_GPIO_ReadPin
HAL_GPIO_WritePin
resetPWM
__aeabi_f2d
HAL_I2C_Master_Transmit
HAL_I2C_Master_Receive
crc4
strlen
getI2CRef
calculate
convert
gcvt
