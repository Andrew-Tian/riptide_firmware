ARM GAS  /var/folders/7p/1_dhylqx7nl5s8914_0f_4w00000gn/T//ccvBiTcM.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"riptideFunctions.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.MessageCheck,"ax",%progbits
  18              		.align	1
  19              		.global	MessageCheck
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv4-sp-d16
  25              	MessageCheck:
  26              	.LFB129:
  27              		.file 1 "riptideSTM/src/riptideFunctions.c"
   1:riptideSTM/src/riptideFunctions.c **** //
   2:riptideSTM/src/riptideFunctions.c **** // Created by August R. Mason on 2/11/18.
   3:riptideSTM/src/riptideFunctions.c **** //
   4:riptideSTM/src/riptideFunctions.c **** #include "main.h"
   5:riptideSTM/src/riptideFunctions.c **** #include <stdbool.h> //used for the MessageCheck function
   6:riptideSTM/src/riptideFunctions.c **** #include <stdint.h>
   7:riptideSTM/src/riptideFunctions.c **** #include "riptideFunctions.h"
   8:riptideSTM/src/riptideFunctions.c **** 
   9:riptideSTM/src/riptideFunctions.c **** #include "stm32f4xx_hal.h"
  10:riptideSTM/src/riptideFunctions.c **** #include "cmsis_os.h"
  11:riptideSTM/src/riptideFunctions.c **** #include "usbd_cdc_if.h"
  12:riptideSTM/src/riptideFunctions.c **** 
  13:riptideSTM/src/riptideFunctions.c **** /*
  14:riptideSTM/src/riptideFunctions.c ****  *          Message Check
  15:riptideSTM/src/riptideFunctions.c ****  *  This function is meant to streamline the messages sent from riptide to the STM32. Primary use c
  16:riptideSTM/src/riptideFunctions.c ****  *  is for working in the CDC_Recieve function to check which message that gets recieved and set a 
  17:riptideSTM/src/riptideFunctions.c ****  *  determine which message was sent
  18:riptideSTM/src/riptideFunctions.c ****  *  Intakes:
  19:riptideSTM/src/riptideFunctions.c ****  *          char* start     -the characters that start the message
  20:riptideSTM/src/riptideFunctions.c ****  *          char* end       -the characters that are the last
  21:riptideSTM/src/riptideFunctions.c ****  *          int compNumber  -the number of characters that start and end the message
  22:riptideSTM/src/riptideFunctions.c ****  *          uint8_t* Buf    -the message sent
  23:riptideSTM/src/riptideFunctions.c ****  *          uint32_t *Len   -the length of the message
  24:riptideSTM/src/riptideFunctions.c ****  */
  25:riptideSTM/src/riptideFunctions.c **** bool MessageCheck(char* start, char* end, int compNumber,uint8_t* Buf, uint32_t *Len ){
  28              		.loc 1 25 0
  29              		.cfi_startproc
  30              		@ args = 4, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              		@ link register save eliminated.
  33              	.LVL0:
ARM GAS  /var/folders/7p/1_dhylqx7nl5s8914_0f_4w00000gn/T//ccvBiTcM.s 			page 2


  34 0000 F0B4     		push	{r4, r5, r6, r7}
  35              	.LCFI0:
  36              		.cfi_def_cfa_offset 16
  37              		.cfi_offset 4, -16
  38              		.cfi_offset 5, -12
  39              		.cfi_offset 6, -8
  40              		.cfi_offset 7, -4
  41 0002 049F     		ldr	r7, [sp, #16]
  42              	.LVL1:
  26:riptideSTM/src/riptideFunctions.c ****     int i = 0;
  43              		.loc 1 26 0
  44 0004 0025     		movs	r5, #0
  45              	.LVL2:
  46              	.L2:
  27:riptideSTM/src/riptideFunctions.c ****     while( i < compNumber ){
  47              		.loc 1 27 0
  48 0006 9542     		cmp	r5, r2
  49 0008 0CDA     		bge	.L8
  28:riptideSTM/src/riptideFunctions.c ****         if (Buf[i] == *start && Buf[*Len - (1+i)] == *end){
  50              		.loc 1 28 0
  51 000a 5E5D     		ldrb	r6, [r3, r5]	@ zero_extendqisi2
  52 000c 0478     		ldrb	r4, [r0]	@ zero_extendqisi2
  53 000e A642     		cmp	r6, r4
  54 0010 0BD1     		bne	.L5
  55              		.loc 1 28 0 is_stmt 0 discriminator 1
  56 0012 3C68     		ldr	r4, [r7]
  57 0014 641B     		subs	r4, r4, r5
  58 0016 013C     		subs	r4, r4, #1
  59 0018 1E5D     		ldrb	r6, [r3, r4]	@ zero_extendqisi2
  60 001a 0C78     		ldrb	r4, [r1]	@ zero_extendqisi2
  61 001c A642     		cmp	r6, r4
  62 001e 06D1     		bne	.L6
  29:riptideSTM/src/riptideFunctions.c **** 
  30:riptideSTM/src/riptideFunctions.c ****             i++;
  63              		.loc 1 30 0 is_stmt 1
  64 0020 0135     		adds	r5, r5, #1
  65              	.LVL3:
  66 0022 F0E7     		b	.L2
  67              	.L8:
  31:riptideSTM/src/riptideFunctions.c ****         }
  32:riptideSTM/src/riptideFunctions.c ****         else {
  33:riptideSTM/src/riptideFunctions.c ****             return false;
  34:riptideSTM/src/riptideFunctions.c ****         }
  35:riptideSTM/src/riptideFunctions.c ****     }
  36:riptideSTM/src/riptideFunctions.c ****     return true;
  68              		.loc 1 36 0
  69 0024 0120     		movs	r0, #1
  70              	.LVL4:
  71              	.L3:
  37:riptideSTM/src/riptideFunctions.c **** 
  38:riptideSTM/src/riptideFunctions.c **** }
  72              		.loc 1 38 0
  73 0026 F0BC     		pop	{r4, r5, r6, r7}
  74              	.LCFI1:
  75              		.cfi_remember_state
  76              		.cfi_restore 7
  77              		.cfi_restore 6
ARM GAS  /var/folders/7p/1_dhylqx7nl5s8914_0f_4w00000gn/T//ccvBiTcM.s 			page 3


  78              		.cfi_restore 5
  79              		.cfi_restore 4
  80              		.cfi_def_cfa_offset 0
  81              	.LVL5:
  82 0028 7047     		bx	lr
  83              	.LVL6:
  84              	.L5:
  85              	.LCFI2:
  86              		.cfi_restore_state
  33:riptideSTM/src/riptideFunctions.c ****         }
  87              		.loc 1 33 0
  88 002a 0020     		movs	r0, #0
  89              	.LVL7:
  90 002c FBE7     		b	.L3
  91              	.LVL8:
  92              	.L6:
  93 002e 0020     		movs	r0, #0
  94              	.LVL9:
  95 0030 F9E7     		b	.L3
  96              		.cfi_endproc
  97              	.LFE129:
  99              		.section	.text.parse,"ax",%progbits
 100              		.align	1
 101              		.global	parse
 102              		.syntax unified
 103              		.thumb
 104              		.thumb_func
 105              		.fpu fpv4-sp-d16
 107              	parse:
 108              	.LFB131:
  39:riptideSTM/src/riptideFunctions.c **** 
  40:riptideSTM/src/riptideFunctions.c **** 
  41:riptideSTM/src/riptideFunctions.c **** int8_t Riptide_CDC_Receive(uint8_t* Buf, uint32_t *Len ){
  42:riptideSTM/src/riptideFunctions.c ****     uint8_t Successmsg[] = "thrust hell yeah \r\n";
  43:riptideSTM/src/riptideFunctions.c ****   uint8_t failmsg[] = "not good enough kid\r\n";
  44:riptideSTM/src/riptideFunctions.c ****   char* thrustst = "#";
  45:riptideSTM/src/riptideFunctions.c ****   char* thrustend = "@";
  46:riptideSTM/src/riptideFunctions.c ****   int   thrustComp = 4;
  47:riptideSTM/src/riptideFunctions.c ****   bool thrustsuccess = false;
  48:riptideSTM/src/riptideFunctions.c ****   uint16_t values[8];
  49:riptideSTM/src/riptideFunctions.c ****   thrustsuccess = MessageCheck(thrustst, thrustend, thrustComp, Buf, Len);
  50:riptideSTM/src/riptideFunctions.c ****   if (thrustsuccess){
  51:riptideSTM/src/riptideFunctions.c ****     HAL_GPIO_TogglePin(HeartBeat2_GPIO_Port, HeartBeat2_Pin);
  52:riptideSTM/src/riptideFunctions.c ****     CDC_Transmit_HS(Successmsg, sizeof(Successmsg));
  53:riptideSTM/src/riptideFunctions.c ****     parse(Buf, values);
  54:riptideSTM/src/riptideFunctions.c ****     writePWM(values);
  55:riptideSTM/src/riptideFunctions.c **** 
  56:riptideSTM/src/riptideFunctions.c ****   }
  57:riptideSTM/src/riptideFunctions.c ****   if (!thrustsuccess){
  58:riptideSTM/src/riptideFunctions.c ****     CDC_Transmit_HS(failmsg, sizeof(failmsg));
  59:riptideSTM/src/riptideFunctions.c ****   }
  60:riptideSTM/src/riptideFunctions.c ****     return (USBD_OK);
  61:riptideSTM/src/riptideFunctions.c **** }
  62:riptideSTM/src/riptideFunctions.c **** 
  63:riptideSTM/src/riptideFunctions.c **** void parse(uint8_t * raw, uint16_t * values) {
 109              		.loc 1 63 0
 110              		.cfi_startproc
ARM GAS  /var/folders/7p/1_dhylqx7nl5s8914_0f_4w00000gn/T//ccvBiTcM.s 			page 4


 111              		@ args = 0, pretend = 0, frame = 8
 112              		@ frame_needed = 0, uses_anonymous_args = 0
 113              	.LVL10:
 114 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 115              	.LCFI3:
 116              		.cfi_def_cfa_offset 20
 117              		.cfi_offset 4, -20
 118              		.cfi_offset 5, -16
 119              		.cfi_offset 6, -12
 120              		.cfi_offset 7, -8
 121              		.cfi_offset 14, -4
 122 0002 83B0     		sub	sp, sp, #12
 123              	.LCFI4:
 124              		.cfi_def_cfa_offset 32
 125 0004 0646     		mov	r6, r0
 126 0006 0F46     		mov	r7, r1
 127              	.LVL11:
 128              	.LBB2:
  64:riptideSTM/src/riptideFunctions.c **** 	uint8_t string[4];
  65:riptideSTM/src/riptideFunctions.c **** 	for (int i = 1; i <= 10; i++) {
 129              		.loc 1 65 0
 130 0008 0124     		movs	r4, #1
 131 000a 17E0     		b	.L10
 132              	.LVL12:
 133              	.L11:
  66:riptideSTM/src/riptideFunctions.c **** 		string[0] = raw[4 * i];
 134              		.loc 1 66 0 discriminator 3
 135 000c 16F82430 		ldrb	r3, [r6, r4, lsl #2]	@ zero_extendqisi2
 136 0010 8DF80430 		strb	r3, [sp, #4]
  67:riptideSTM/src/riptideFunctions.c **** 		string[1] = raw[4 * i + 1];
 137              		.loc 1 67 0 discriminator 3
 138 0014 06EB8403 		add	r3, r6, r4, lsl #2
 139 0018 5A78     		ldrb	r2, [r3, #1]	@ zero_extendqisi2
 140 001a 8DF80520 		strb	r2, [sp, #5]
  68:riptideSTM/src/riptideFunctions.c **** 		string[2] = raw[4 * i + 2];
 141              		.loc 1 68 0 discriminator 3
 142 001e 9A78     		ldrb	r2, [r3, #2]	@ zero_extendqisi2
 143 0020 8DF80620 		strb	r2, [sp, #6]
  69:riptideSTM/src/riptideFunctions.c **** 		string[3] = raw[4 * i + 3];
 144              		.loc 1 69 0 discriminator 3
 145 0024 DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 146 0026 8DF80730 		strb	r3, [sp, #7]
  70:riptideSTM/src/riptideFunctions.c **** 		values[i - 1] = atoi(string);
 147              		.loc 1 70 0 discriminator 3
 148 002a 04F10045 		add	r5, r4, #-2147483648
 149 002e 013D     		subs	r5, r5, #1
 150 0030 01A8     		add	r0, sp, #4
 151 0032 FFF7FEFF 		bl	atoi
 152              	.LVL13:
 153 0036 27F81500 		strh	r0, [r7, r5, lsl #1]	@ movhi
  65:riptideSTM/src/riptideFunctions.c **** 		string[0] = raw[4 * i];
 154              		.loc 1 65 0 discriminator 3
 155 003a 0134     		adds	r4, r4, #1
 156              	.LVL14:
 157              	.L10:
  65:riptideSTM/src/riptideFunctions.c **** 		string[0] = raw[4 * i];
 158              		.loc 1 65 0 is_stmt 0 discriminator 1
ARM GAS  /var/folders/7p/1_dhylqx7nl5s8914_0f_4w00000gn/T//ccvBiTcM.s 			page 5


 159 003c 0A2C     		cmp	r4, #10
 160 003e E5DD     		ble	.L11
 161              	.LBE2:
  71:riptideSTM/src/riptideFunctions.c **** 	}
  72:riptideSTM/src/riptideFunctions.c **** }
 162              		.loc 1 72 0 is_stmt 1
 163 0040 03B0     		add	sp, sp, #12
 164              	.LCFI5:
 165              		.cfi_def_cfa_offset 20
 166              		@ sp needed
 167 0042 F0BD     		pop	{r4, r5, r6, r7, pc}
 168              		.cfi_endproc
 169              	.LFE131:
 171              		.section	.text.Riptide_CDC_Receive,"ax",%progbits
 172              		.align	1
 173              		.global	Riptide_CDC_Receive
 174              		.syntax unified
 175              		.thumb
 176              		.thumb_func
 177              		.fpu fpv4-sp-d16
 179              	Riptide_CDC_Receive:
 180              	.LFB130:
  41:riptideSTM/src/riptideFunctions.c ****     uint8_t Successmsg[] = "thrust hell yeah \r\n";
 181              		.loc 1 41 0
 182              		.cfi_startproc
 183              		@ args = 0, pretend = 0, frame = 64
 184              		@ frame_needed = 0, uses_anonymous_args = 0
 185              	.LVL15:
 186 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 187              	.LCFI6:
 188              		.cfi_def_cfa_offset 20
 189              		.cfi_offset 4, -20
 190              		.cfi_offset 5, -16
 191              		.cfi_offset 6, -12
 192              		.cfi_offset 7, -8
 193              		.cfi_offset 14, -4
 194 0002 93B0     		sub	sp, sp, #76
 195              	.LCFI7:
 196              		.cfi_def_cfa_offset 96
 197 0004 0646     		mov	r6, r0
 198 0006 0F46     		mov	r7, r1
  42:riptideSTM/src/riptideFunctions.c ****   uint8_t failmsg[] = "not good enough kid\r\n";
 199              		.loc 1 42 0
 200 0008 0DAC     		add	r4, sp, #52
 201 000a 184D     		ldr	r5, .L19
 202 000c 0FCD     		ldmia	r5!, {r0, r1, r2, r3}
 203              	.LVL16:
 204 000e 0FC4     		stmia	r4!, {r0, r1, r2, r3}
 205 0010 2B68     		ldr	r3, [r5]
 206 0012 2360     		str	r3, [r4]
  43:riptideSTM/src/riptideFunctions.c ****   char* thrustst = "#";
 207              		.loc 1 43 0
 208 0014 07AC     		add	r4, sp, #28
 209 0016 164D     		ldr	r5, .L19+4
 210 0018 0FCD     		ldmia	r5!, {r0, r1, r2, r3}
 211 001a 0FC4     		stmia	r4!, {r0, r1, r2, r3}
 212 001c 95E80300 		ldm	r5, {r0, r1}
ARM GAS  /var/folders/7p/1_dhylqx7nl5s8914_0f_4w00000gn/T//ccvBiTcM.s 			page 6


 213 0020 44F8040B 		str	r0, [r4], #4
 214 0024 2180     		strh	r1, [r4]	@ movhi
 215              	.LVL17:
  49:riptideSTM/src/riptideFunctions.c ****   if (thrustsuccess){
 216              		.loc 1 49 0
 217 0026 0097     		str	r7, [sp]
 218 0028 3346     		mov	r3, r6
 219 002a 0422     		movs	r2, #4
 220 002c 1149     		ldr	r1, .L19+8
 221 002e 1248     		ldr	r0, .L19+12
 222 0030 FFF7FEFF 		bl	MessageCheck
 223              	.LVL18:
  50:riptideSTM/src/riptideFunctions.c ****     HAL_GPIO_TogglePin(HeartBeat2_GPIO_Port, HeartBeat2_Pin);
 224              		.loc 1 50 0
 225 0034 0446     		mov	r4, r0
 226 0036 18B9     		cbnz	r0, .L17
 227              	.LVL19:
 228              	.L14:
  57:riptideSTM/src/riptideFunctions.c ****     CDC_Transmit_HS(failmsg, sizeof(failmsg));
 229              		.loc 1 57 0
 230 0038 94B1     		cbz	r4, .L18
 231              	.L15:
  61:riptideSTM/src/riptideFunctions.c **** 
 232              		.loc 1 61 0
 233 003a 0020     		movs	r0, #0
 234 003c 13B0     		add	sp, sp, #76
 235              	.LCFI8:
 236              		.cfi_remember_state
 237              		.cfi_def_cfa_offset 20
 238              		@ sp needed
 239 003e F0BD     		pop	{r4, r5, r6, r7, pc}
 240              	.LVL20:
 241              	.L17:
 242              	.LCFI9:
 243              		.cfi_restore_state
  51:riptideSTM/src/riptideFunctions.c ****     CDC_Transmit_HS(Successmsg, sizeof(Successmsg));
 244              		.loc 1 51 0
 245 0040 8021     		movs	r1, #128
 246 0042 0E48     		ldr	r0, .L19+16
 247              	.LVL21:
 248 0044 FFF7FEFF 		bl	HAL_GPIO_TogglePin
 249              	.LVL22:
  52:riptideSTM/src/riptideFunctions.c ****     parse(Buf, values);
 250              		.loc 1 52 0
 251 0048 1421     		movs	r1, #20
 252 004a 0DA8     		add	r0, sp, #52
 253 004c FFF7FEFF 		bl	CDC_Transmit_HS
 254              	.LVL23:
  53:riptideSTM/src/riptideFunctions.c ****     writePWM(values);
 255              		.loc 1 53 0
 256 0050 03A9     		add	r1, sp, #12
 257 0052 3046     		mov	r0, r6
 258 0054 FFF7FEFF 		bl	parse
 259              	.LVL24:
  54:riptideSTM/src/riptideFunctions.c **** 
 260              		.loc 1 54 0
 261 0058 03A8     		add	r0, sp, #12
ARM GAS  /var/folders/7p/1_dhylqx7nl5s8914_0f_4w00000gn/T//ccvBiTcM.s 			page 7


 262 005a FFF7FEFF 		bl	writePWM
 263              	.LVL25:
 264 005e EBE7     		b	.L14
 265              	.L18:
  58:riptideSTM/src/riptideFunctions.c ****   }
 266              		.loc 1 58 0
 267 0060 1621     		movs	r1, #22
 268 0062 07A8     		add	r0, sp, #28
 269 0064 FFF7FEFF 		bl	CDC_Transmit_HS
 270              	.LVL26:
 271 0068 E7E7     		b	.L15
 272              	.L20:
 273 006a 00BF     		.align	2
 274              	.L19:
 275 006c 08000000 		.word	.LC0
 276 0070 1C000000 		.word	.LC1
 277 0074 00000000 		.word	.LC2
 278 0078 04000000 		.word	.LC3
 279 007c 00080240 		.word	1073874944
 280              		.cfi_endproc
 281              	.LFE130:
 283              		.section	.text.crc4,"ax",%progbits
 284              		.align	1
 285              		.global	crc4
 286              		.syntax unified
 287              		.thumb
 288              		.thumb_func
 289              		.fpu fpv4-sp-d16
 291              	crc4:
 292              	.LFB132:
  73:riptideSTM/src/riptideFunctions.c **** 
  74:riptideSTM/src/riptideFunctions.c **** // From the Blue Robotics data sheet, cyclic redundancy check
  75:riptideSTM/src/riptideFunctions.c **** uint8_t crc4(uint16_t n_prom[]) {
 293              		.loc 1 75 0
 294              		.cfi_startproc
 295              		@ args = 0, pretend = 0, frame = 0
 296              		@ frame_needed = 0, uses_anonymous_args = 0
 297              		@ link register save eliminated.
 298              	.LVL27:
  76:riptideSTM/src/riptideFunctions.c **** 	uint16_t n_rem = 0;
  77:riptideSTM/src/riptideFunctions.c **** 
  78:riptideSTM/src/riptideFunctions.c **** 	n_prom[0] = ((n_prom[0]) & 0x0FFF);
 299              		.loc 1 78 0
 300 0000 0388     		ldrh	r3, [r0]
 301 0002 C3F30B03 		ubfx	r3, r3, #0, #12
 302 0006 0380     		strh	r3, [r0]	@ movhi
  79:riptideSTM/src/riptideFunctions.c **** 	n_prom[7] = 0;
 303              		.loc 1 79 0
 304 0008 0023     		movs	r3, #0
 305 000a C381     		strh	r3, [r0, #14]	@ movhi
 306              	.LVL28:
 307              	.LBB3:
  80:riptideSTM/src/riptideFunctions.c **** 
  81:riptideSTM/src/riptideFunctions.c **** 	for ( uint8_t i = 0 ; i < 16; i++ ) {
 308              		.loc 1 81 0
 309 000c 1946     		mov	r1, r3
 310 000e 15E0     		b	.L22
ARM GAS  /var/folders/7p/1_dhylqx7nl5s8914_0f_4w00000gn/T//ccvBiTcM.s 			page 8


 311              	.LVL29:
 312              	.L23:
  82:riptideSTM/src/riptideFunctions.c **** 		if ( i%2 == 1 ) {
  83:riptideSTM/src/riptideFunctions.c **** 			n_rem ^= (uint16_t)((n_prom[i>>1]) & 0x00FF);
  84:riptideSTM/src/riptideFunctions.c **** 		} else {
  85:riptideSTM/src/riptideFunctions.c **** 			n_rem ^= (uint16_t)(n_prom[i>>1] >> 8);
 313              		.loc 1 85 0
 314 0010 4A08     		lsrs	r2, r1, #1
 315 0012 30F81220 		ldrh	r2, [r0, r2, lsl #1]
 316 0016 83EA1223 		eor	r3, r3, r2, lsr #8
 317              	.LVL30:
 318 001a 18E0     		b	.L25
 319              	.LVL31:
 320              	.L31:
 321              	.LBB4:
  86:riptideSTM/src/riptideFunctions.c **** 		}
  87:riptideSTM/src/riptideFunctions.c **** 		for ( uint8_t n_bit = 8 ; n_bit > 0 ; n_bit-- ) {
  88:riptideSTM/src/riptideFunctions.c **** 			if ( n_rem & 0x8000 ) {
  89:riptideSTM/src/riptideFunctions.c **** 				n_rem = (n_rem << 1) ^ 0x3000;
 322              		.loc 1 89 0
 323 001c 5B00     		lsls	r3, r3, #1
 324              	.LVL32:
 325 001e 83F44053 		eor	r3, r3, #12288
 326 0022 1BB2     		sxth	r3, r3
 327 0024 9BB2     		uxth	r3, r3
 328              	.LVL33:
 329              	.L27:
  87:riptideSTM/src/riptideFunctions.c **** 			if ( n_rem & 0x8000 ) {
 330              		.loc 1 87 0 discriminator 2
 331 0026 013A     		subs	r2, r2, #1
 332              	.LVL34:
 333 0028 D2B2     		uxtb	r2, r2
 334              	.LVL35:
 335              	.L24:
  87:riptideSTM/src/riptideFunctions.c **** 			if ( n_rem & 0x8000 ) {
 336              		.loc 1 87 0 is_stmt 0 discriminator 1
 337 002a 2AB1     		cbz	r2, .L30
  88:riptideSTM/src/riptideFunctions.c **** 				n_rem = (n_rem << 1) ^ 0x3000;
 338              		.loc 1 88 0 is_stmt 1
 339 002c 13F4004F 		tst	r3, #32768
 340 0030 F4D1     		bne	.L31
  90:riptideSTM/src/riptideFunctions.c **** 			} else {
  91:riptideSTM/src/riptideFunctions.c **** 				n_rem = (n_rem << 1);
 341              		.loc 1 91 0
 342 0032 5B00     		lsls	r3, r3, #1
 343              	.LVL36:
 344 0034 9BB2     		uxth	r3, r3
 345              	.LVL37:
 346 0036 F6E7     		b	.L27
 347              	.L30:
 348              	.LBE4:
  81:riptideSTM/src/riptideFunctions.c **** 		if ( i%2 == 1 ) {
 349              		.loc 1 81 0 discriminator 2
 350 0038 0131     		adds	r1, r1, #1
 351              	.LVL38:
 352 003a C9B2     		uxtb	r1, r1
 353              	.LVL39:
ARM GAS  /var/folders/7p/1_dhylqx7nl5s8914_0f_4w00000gn/T//ccvBiTcM.s 			page 9


 354              	.L22:
  81:riptideSTM/src/riptideFunctions.c **** 		if ( i%2 == 1 ) {
 355              		.loc 1 81 0 is_stmt 0 discriminator 1
 356 003c 0F29     		cmp	r1, #15
 357 003e 08D8     		bhi	.L32
  82:riptideSTM/src/riptideFunctions.c **** 			n_rem ^= (uint16_t)((n_prom[i>>1]) & 0x00FF);
 358              		.loc 1 82 0 is_stmt 1
 359 0040 11F0010F 		tst	r1, #1
 360 0044 E4D0     		beq	.L23
  83:riptideSTM/src/riptideFunctions.c **** 		} else {
 361              		.loc 1 83 0
 362 0046 4A08     		lsrs	r2, r1, #1
 363 0048 10F81220 		ldrb	r2, [r0, r2, lsl #1]	@ zero_extendqisi2
 364 004c 5340     		eors	r3, r3, r2
 365              	.LVL40:
 366              	.L25:
 367              	.LBE3:
  75:riptideSTM/src/riptideFunctions.c **** 	uint16_t n_rem = 0;
 368              		.loc 1 75 0 discriminator 1
 369 004e 0822     		movs	r2, #8
 370 0050 EBE7     		b	.L24
 371              	.L32:
 372              	.LVL41:
  92:riptideSTM/src/riptideFunctions.c **** 			}
  93:riptideSTM/src/riptideFunctions.c **** 		}
  94:riptideSTM/src/riptideFunctions.c **** 	}
  95:riptideSTM/src/riptideFunctions.c **** 
  96:riptideSTM/src/riptideFunctions.c **** 	n_rem = ((n_rem >> 12) & 0x000F);
  97:riptideSTM/src/riptideFunctions.c **** 
  98:riptideSTM/src/riptideFunctions.c **** 	return n_rem ^ 0x00;
  99:riptideSTM/src/riptideFunctions.c **** }
 373              		.loc 1 99 0
 374 0052 180B     		lsrs	r0, r3, #12
 375              	.LVL42:
 376 0054 7047     		bx	lr
 377              		.cfi_endproc
 378              	.LFE132:
 380              		.global	__aeabi_ldivmod
 381              		.section	.text.calculate,"ax",%progbits
 382              		.align	1
 383              		.global	calculate
 384              		.syntax unified
 385              		.thumb
 386              		.thumb_func
 387              		.fpu fpv4-sp-d16
 389              	calculate:
 390              	.LFB133:
 100:riptideSTM/src/riptideFunctions.c **** 
 101:riptideSTM/src/riptideFunctions.c **** void calculate(uint32_t D1, uint32_t D2, uint16_t C[8], uint32_t * TEMP, uint32_t * P) {
 391              		.loc 1 101 0
 392              		.cfi_startproc
 393              		@ args = 4, pretend = 0, frame = 8
 394              		@ frame_needed = 0, uses_anonymous_args = 0
 395              	.LVL43:
 396 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 397              	.LCFI10:
 398              		.cfi_def_cfa_offset 36
ARM GAS  /var/folders/7p/1_dhylqx7nl5s8914_0f_4w00000gn/T//ccvBiTcM.s 			page 10


 399              		.cfi_offset 4, -36
 400              		.cfi_offset 5, -32
 401              		.cfi_offset 6, -28
 402              		.cfi_offset 7, -24
 403              		.cfi_offset 8, -20
 404              		.cfi_offset 9, -16
 405              		.cfi_offset 10, -12
 406              		.cfi_offset 11, -8
 407              		.cfi_offset 14, -4
 408 0004 83B0     		sub	sp, sp, #12
 409              	.LCFI11:
 410              		.cfi_def_cfa_offset 48
 411              	.LVL44:
 102:riptideSTM/src/riptideFunctions.c **** 	// Given C1-C6 and D1, D2, calculated TEMP and P
 103:riptideSTM/src/riptideFunctions.c **** 	// Do conversion first and then second order temp compensation
 104:riptideSTM/src/riptideFunctions.c **** 
 105:riptideSTM/src/riptideFunctions.c **** 	int32_t dT = 0;
 106:riptideSTM/src/riptideFunctions.c **** 	int64_t SENS = 0;
 107:riptideSTM/src/riptideFunctions.c **** 	int64_t OFF = 0;
 108:riptideSTM/src/riptideFunctions.c **** 	int32_t SENSi = 0;
 109:riptideSTM/src/riptideFunctions.c **** 	int32_t OFFi = 0;
 110:riptideSTM/src/riptideFunctions.c **** 	int32_t Ti = 0;
 111:riptideSTM/src/riptideFunctions.c **** 	int64_t OFF2 = 0;
 112:riptideSTM/src/riptideFunctions.c **** 	int64_t SENS2 = 0;
 113:riptideSTM/src/riptideFunctions.c **** 
 114:riptideSTM/src/riptideFunctions.c **** 	// Terms called
 115:riptideSTM/src/riptideFunctions.c **** 	dT = D2 - (uint32_t) (C[5])*256l;
 412              		.loc 1 115 0
 413 0006 5489     		ldrh	r4, [r2, #10]
 414 0008 A1EB0421 		sub	r1, r1, r4, lsl #8
 415              	.LVL45:
 116:riptideSTM/src/riptideFunctions.c **** 	SENS = (int64_t) (C[1])*32768l+((int64_t) (C[3])*dT)/256l;
 416              		.loc 1 116 0
 417 000c 5488     		ldrh	r4, [r2, #2]
 418 000e 4FF00009 		mov	r9, #0
 419 0012 4FEAC438 		lsl	r8, r4, #15
 420 0016 D688     		ldrh	r6, [r2, #6]
 421 0018 8A46     		mov	r10, r1
 422 001a 4FEAE17B 		asr	fp, r1, #31
 423 001e A6FB0145 		umull	r4, r5, r6, r1
 424 0022 06FB0B55 		mla	r5, r6, fp, r5
 425 0026 2646     		mov	r6, r4
 426 0028 2F46     		mov	r7, r5
 427 002a 002C     		cmp	r4, #0
 428 002c 75F1000E 		sbcs	lr, r5, #0
 429 0030 C0F28780 		blt	.L45
 430              	.L34:
 431 0034 360A     		lsrs	r6, r6, #8
 432 0036 46EA0764 		orr	r4, r6, r7, lsl #24
 433 003a 3D12     		asrs	r5, r7, #8
 434 003c 18EB0406 		adds	r6, r8, r4
 435 0040 49EB0507 		adc	r7, r9, r5
 436 0044 CDE90067 		strd	r6, [sp]
 437              	.LVL46:
 117:riptideSTM/src/riptideFunctions.c **** 	OFF = (int64_t) (C[2])*65536l+((int64_t) (C[4])*dT)/128l;
 438              		.loc 1 117 0
 439 0048 9488     		ldrh	r4, [r2, #4]
ARM GAS  /var/folders/7p/1_dhylqx7nl5s8914_0f_4w00000gn/T//ccvBiTcM.s 			page 11


 440 004a 4FF00009 		mov	r9, #0
 441 004e 4FEA0448 		lsl	r8, r4, #16
 442 0052 1689     		ldrh	r6, [r2, #8]
 443              	.LVL47:
 444 0054 A1FB0645 		umull	r4, r5, r1, r6
 445 0058 06FB0B55 		mla	r5, r6, fp, r5
 446 005c 2646     		mov	r6, r4
 447 005e 2F46     		mov	r7, r5
 448 0060 002C     		cmp	r4, #0
 449 0062 75F1000E 		sbcs	lr, r5, #0
 450 0066 71DB     		blt	.L46
 451              	.L35:
 452 0068 F609     		lsrs	r6, r6, #7
 453 006a 46EA4764 		orr	r4, r6, r7, lsl #25
 454 006e FD11     		asrs	r5, r7, #7
 455 0070 18EB0408 		adds	r8, r8, r4
 456 0074 49EB0509 		adc	r9, r9, r5
 457              	.LVL48:
 118:riptideSTM/src/riptideFunctions.c **** 	*P = (D1*SENS/(2097152l)-OFF)/(8192l);
 458              		.loc 1 118 0
 459 0078 DDE90067 		ldrd	r6, [sp]
 460 007c A6FB0045 		umull	r4, r5, r6, r0
 461 0080 00FB0755 		mla	r5, r0, r7, r5
 462 0084 2646     		mov	r6, r4
 463 0086 2F46     		mov	r7, r5
 464 0088 002C     		cmp	r4, #0
 465 008a 75F1000E 		sbcs	lr, r5, #0
 466 008e 62DB     		blt	.L47
 467              	.L36:
 468 0090 760D     		lsrs	r6, r6, #21
 469 0092 46EAC724 		orr	r4, r6, r7, lsl #11
 470 0096 7D15     		asrs	r5, r7, #21
 471 0098 B4EB0804 		subs	r4, r4, r8
 472 009c 65EB0905 		sbc	r5, r5, r9
 473 00a0 2646     		mov	r6, r4
 474 00a2 2F46     		mov	r7, r5
 475 00a4 002C     		cmp	r4, #0
 476 00a6 75F1000E 		sbcs	lr, r5, #0
 477 00aa 59DB     		blt	.L48
 478              	.L37:
 479 00ac 740B     		lsrs	r4, r6, #13
 480 00ae 44EAC744 		orr	r4, r4, r7, lsl #19
 481 00b2 0C9D     		ldr	r5, [sp, #48]
 482 00b4 2C60     		str	r4, [r5]
 119:riptideSTM/src/riptideFunctions.c **** 
 120:riptideSTM/src/riptideFunctions.c **** 	// Temp conversion
 121:riptideSTM/src/riptideFunctions.c **** 	*TEMP = 2000l + (int64_t) (dT)*C[6]/8388608LL;
 483              		.loc 1 121 0
 484 00b6 9689     		ldrh	r6, [r2, #12]
 485 00b8 A1FB0645 		umull	r4, r5, r1, r6
 486 00bc 06FB0B55 		mla	r5, r6, fp, r5
 487 00c0 2646     		mov	r6, r4
 488 00c2 2F46     		mov	r7, r5
 489 00c4 002C     		cmp	r4, #0
 490 00c6 75F10002 		sbcs	r2, r5, #0
 491              	.LVL49:
 492 00ca 4FDB     		blt	.L49
ARM GAS  /var/folders/7p/1_dhylqx7nl5s8914_0f_4w00000gn/T//ccvBiTcM.s 			page 12


 493              	.L38:
 494 00cc F20D     		lsrs	r2, r6, #23
 495 00ce 42EA4722 		orr	r2, r2, r7, lsl #9
 496 00d2 1646     		mov	r6, r2
 122:riptideSTM/src/riptideFunctions.c **** 
 123:riptideSTM/src/riptideFunctions.c **** 	//Second order compensation
 124:riptideSTM/src/riptideFunctions.c **** 	if((*TEMP/100)<20){         //Low temp
 497              		.loc 1 124 0
 498 00d4 12F5FA62 		adds	r2, r2, #2000
 499 00d8 4DD2     		bcs	.L50
 125:riptideSTM/src/riptideFunctions.c **** 		Ti = (3*(int64_t)(dT)*(int64_t)(dT))/(8589934592LL);
 126:riptideSTM/src/riptideFunctions.c **** 		OFFi = (3*(*TEMP-2000)*(*TEMP-2000))/2;
 127:riptideSTM/src/riptideFunctions.c **** 		SENSi = (5*(*TEMP-2000)*(*TEMP-2000))/8;
 128:riptideSTM/src/riptideFunctions.c **** 
 129:riptideSTM/src/riptideFunctions.c **** 		if((*TEMP/100)<-15){    //Very low temp
 130:riptideSTM/src/riptideFunctions.c **** 			OFFi = OFFi+7*(*TEMP+1500l)*(*TEMP+1500l);
 131:riptideSTM/src/riptideFunctions.c **** 			SENSi = SENSi+4*(*TEMP+1500l)*(*TEMP+1500l);
 132:riptideSTM/src/riptideFunctions.c **** 		}
 133:riptideSTM/src/riptideFunctions.c **** 	}
 134:riptideSTM/src/riptideFunctions.c **** 	else if((*TEMP/100)>=20){    //High temp
 135:riptideSTM/src/riptideFunctions.c **** 		Ti = 2*(dT*dT)/(137438953472LL);
 500              		.loc 1 135 0
 501 00da 01FB01F1 		mul	r1, r1, r1
 502              	.LVL50:
 503 00de 4C00     		lsls	r4, r1, #1
 504 00e0 E517     		asrs	r5, r4, #31
 505 00e2 002C     		cmp	r4, #0
 506 00e4 75F10001 		sbcs	r1, r5, #0
 507 00e8 7FDB     		blt	.L51
 508              	.L42:
 509 00ea 6911     		asrs	r1, r5, #5
 510              	.LVL51:
 136:riptideSTM/src/riptideFunctions.c **** 		OFFi = (1*(*TEMP-2000)*(*TEMP-2000))/16;
 511              		.loc 1 136 0
 512 00ec 06FB06F6 		mul	r6, r6, r6
 513 00f0 3409     		lsrs	r4, r6, #4
 514              	.LVL52:
 137:riptideSTM/src/riptideFunctions.c **** 		SENSi = 0;
 515              		.loc 1 137 0
 516 00f2 0027     		movs	r7, #0
 517              	.LVL53:
 518              	.L41:
 138:riptideSTM/src/riptideFunctions.c **** 	}
 139:riptideSTM/src/riptideFunctions.c **** 
 140:riptideSTM/src/riptideFunctions.c **** 	OFF2 = OFF-OFFi;           //Calculate pressure and temp second order
 519              		.loc 1 140 0
 520 00f4 B8EB0408 		subs	r8, r8, r4
 521              	.LVL54:
 522 00f8 69EBE479 		sbc	r9, r9, r4, asr #31
 523              	.LVL55:
 141:riptideSTM/src/riptideFunctions.c **** 	SENS2 = SENS-SENSi;
 524              		.loc 1 141 0
 525 00fc DDE90045 		ldrd	r4, [sp]
 526              	.LVL56:
 527 0100 E41B     		subs	r4, r4, r7
 528 0102 65EBE775 		sbc	r5, r5, r7, asr #31
 529              	.LVL57:
ARM GAS  /var/folders/7p/1_dhylqx7nl5s8914_0f_4w00000gn/T//ccvBiTcM.s 			page 13


 142:riptideSTM/src/riptideFunctions.c **** 
 143:riptideSTM/src/riptideFunctions.c **** 	*TEMP = (*TEMP-Ti);
 530              		.loc 1 143 0
 531 0106 521A     		subs	r2, r2, r1
 532 0108 1A60     		str	r2, [r3]
 144:riptideSTM/src/riptideFunctions.c **** 	*P = (((D1*SENS2)/2097152l-OFF2)/8192l)/10;
 533              		.loc 1 144 0
 534 010a A0FB0423 		umull	r2, r3, r0, r4
 535 010e 00FB0533 		mla	r3, r0, r5, r3
 536              	.LVL58:
 537 0112 1446     		mov	r4, r2
 538              	.LVL59:
 539 0114 1D46     		mov	r5, r3
 540 0116 002A     		cmp	r2, #0
 541 0118 73F10001 		sbcs	r1, r3, #0
 542              	.LVL60:
 543 011c 6ADB     		blt	.L52
 544              	.L43:
 545 011e 630D     		lsrs	r3, r4, #21
 546 0120 43EAC520 		orr	r0, r3, r5, lsl #11
 547              	.LVL61:
 548 0124 6915     		asrs	r1, r5, #21
 549 0126 4FF4A032 		mov	r2, #81920
 550 012a 0023     		movs	r3, #0
 551 012c B0EB0800 		subs	r0, r0, r8
 552 0130 61EB0901 		sbc	r1, r1, r9
 553 0134 FFF7FEFF 		bl	__aeabi_ldivmod
 554              	.LVL62:
 555 0138 0C9B     		ldr	r3, [sp, #48]
 556 013a 1860     		str	r0, [r3]
 145:riptideSTM/src/riptideFunctions.c **** 
 146:riptideSTM/src/riptideFunctions.c **** }
 557              		.loc 1 146 0
 558 013c 03B0     		add	sp, sp, #12
 559              	.LCFI12:
 560              		.cfi_remember_state
 561              		.cfi_def_cfa_offset 36
 562              	.LVL63:
 563              		@ sp needed
 564 013e BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 565              	.LVL64:
 566              	.L45:
 567              	.LCFI13:
 568              		.cfi_restore_state
 116:riptideSTM/src/riptideFunctions.c **** 	OFF = (int64_t) (C[2])*65536l+((int64_t) (C[4])*dT)/128l;
 569              		.loc 1 116 0
 570 0142 14F1FF06 		adds	r6, r4, #255
 571 0146 45F10007 		adc	r7, r5, #0
 572 014a 73E7     		b	.L34
 573              	.LVL65:
 574              	.L46:
 117:riptideSTM/src/riptideFunctions.c **** 	*P = (D1*SENS/(2097152l)-OFF)/(8192l);
 575              		.loc 1 117 0
 576 014c 14F17F06 		adds	r6, r4, #127
 577 0150 45F10007 		adc	r7, r5, #0
 578 0154 88E7     		b	.L35
 579              	.LVL66:
ARM GAS  /var/folders/7p/1_dhylqx7nl5s8914_0f_4w00000gn/T//ccvBiTcM.s 			page 14


 580              	.L47:
 118:riptideSTM/src/riptideFunctions.c **** 
 581              		.loc 1 118 0
 582 0156 2A4E     		ldr	r6, .L54
 583 0158 0027     		movs	r7, #0
 584 015a 3619     		adds	r6, r6, r4
 585 015c 6F41     		adcs	r7, r7, r5
 586 015e 97E7     		b	.L36
 587              	.L48:
 588 0160 41F6FF76 		movw	r6, #8191
 589 0164 0027     		movs	r7, #0
 590 0166 3619     		adds	r6, r6, r4
 591 0168 6F41     		adcs	r7, r7, r5
 592 016a 9FE7     		b	.L37
 593              	.LVL67:
 594              	.L49:
 121:riptideSTM/src/riptideFunctions.c **** 
 595              		.loc 1 121 0
 596 016c 254E     		ldr	r6, .L54+4
 597 016e 0027     		movs	r7, #0
 598 0170 3619     		adds	r6, r6, r4
 599 0172 6F41     		adcs	r7, r7, r5
 600 0174 AAE7     		b	.L38
 601              	.L50:
 125:riptideSTM/src/riptideFunctions.c **** 		OFFi = (3*(*TEMP-2000)*(*TEMP-2000))/2;
 602              		.loc 1 125 0
 603 0176 1AEB0A04 		adds	r4, r10, r10
 604 017a 4BEB0B05 		adc	r5, fp, fp
 605 017e 14EB0A04 		adds	r4, r4, r10
 606 0182 45EB0B05 		adc	r5, r5, fp
 607 0186 01FB05F7 		mul	r7, r1, r5
 608 018a 04FB0B77 		mla	r7, r4, fp, r7
 609 018e A1FB0445 		umull	r4, r5, r1, r4
 610 0192 3D44     		add	r5, r5, r7
 611 0194 AB46     		mov	fp, r5
 612 0196 002C     		cmp	r4, #0
 613 0198 75F10001 		sbcs	r1, r5, #0
 614              	.LVL68:
 615 019c 20DB     		blt	.L53
 616              	.LVL69:
 617              	.L40:
 618 019e 4FEA6B01 		asr	r1, fp, #1
 619              	.LVL70:
 126:riptideSTM/src/riptideFunctions.c **** 		SENSi = (5*(*TEMP-2000)*(*TEMP-2000))/8;
 620              		.loc 1 126 0
 621 01a2 02EB4204 		add	r4, r2, r2, lsl #1
 622 01a6 A4F5BB54 		sub	r4, r4, #5984
 623 01aa 103C     		subs	r4, r4, #16
 624 01ac 04FB06FE 		mul	lr, r4, r6
 625              	.LVL71:
 127:riptideSTM/src/riptideFunctions.c **** 
 626              		.loc 1 127 0
 627 01b0 02EB8207 		add	r7, r2, r2, lsl #2
 628 01b4 A7F51C57 		sub	r7, r7, #9984
 629 01b8 103F     		subs	r7, r7, #16
 630 01ba 07FB06F6 		mul	r6, r7, r6
 631              	.LVL72:
ARM GAS  /var/folders/7p/1_dhylqx7nl5s8914_0f_4w00000gn/T//ccvBiTcM.s 			page 15


 130:riptideSTM/src/riptideFunctions.c **** 			SENSi = SENSi+4*(*TEMP+1500l)*(*TEMP+1500l);
 632              		.loc 1 130 0
 633 01be C2EBC204 		rsb	r4, r2, r2, lsl #3
 634 01c2 04F52454 		add	r4, r4, #10496
 635 01c6 0434     		adds	r4, r4, #4
 636 01c8 02F2DC55 		addw	r5, r2, #1500
 637 01cc 05FB04F4 		mul	r4, r5, r4
 638 01d0 04EB5E04 		add	r4, r4, lr, lsr #1
 639              	.LVL73:
 131:riptideSTM/src/riptideFunctions.c **** 		}
 640              		.loc 1 131 0
 641 01d4 05FB05F5 		mul	r5, r5, r5
 642 01d8 AF00     		lsls	r7, r5, #2
 643 01da 07EBD607 		add	r7, r7, r6, lsr #3
 644              	.LVL74:
 645 01de 89E7     		b	.L41
 646              	.LVL75:
 647              	.L53:
 125:riptideSTM/src/riptideFunctions.c **** 		OFFi = (3*(*TEMP-2000)*(*TEMP-2000))/2;
 648              		.loc 1 125 0
 649 01e0 14F1FF3A 		adds	r10, r4, #-1
 650              	.LVL76:
 651 01e4 45F1010B 		adc	fp, r5, #1
 652 01e8 D9E7     		b	.L40
 653              	.LVL77:
 654              	.L51:
 135:riptideSTM/src/riptideFunctions.c **** 		OFFi = (1*(*TEMP-2000)*(*TEMP-2000))/16;
 655              		.loc 1 135 0
 656 01ea 14F1FF34 		adds	r4, r4, #-1
 657 01ee 45F11F05 		adc	r5, r5, #31
 658 01f2 7AE7     		b	.L42
 659              	.LVL78:
 660              	.L52:
 144:riptideSTM/src/riptideFunctions.c **** 
 661              		.loc 1 144 0
 662 01f4 024C     		ldr	r4, .L54
 663 01f6 0025     		movs	r5, #0
 664 01f8 A418     		adds	r4, r4, r2
 665 01fa 5D41     		adcs	r5, r5, r3
 666 01fc 8FE7     		b	.L43
 667              	.L55:
 668 01fe 00BF     		.align	2
 669              	.L54:
 670 0200 FFFF1F00 		.word	2097151
 671 0204 FFFF7F00 		.word	8388607
 672              		.cfi_endproc
 673              	.LFE133:
 675              		.global	__aeabi_ui2d
 676              		.global	__aeabi_ddiv
 677              		.global	__aeabi_d2f
 678              		.global	__aeabi_f2d
 679              		.global	__aeabi_dmul
 680              		.global	__aeabi_dsub
 681              		.global	__aeabi_i2d
 682              		.section	.text.convert,"ax",%progbits
 683              		.align	1
 684              		.global	convert
ARM GAS  /var/folders/7p/1_dhylqx7nl5s8914_0f_4w00000gn/T//ccvBiTcM.s 			page 16


 685              		.syntax unified
 686              		.thumb
 687              		.thumb_func
 688              		.fpu fpv4-sp-d16
 690              	convert:
 691              	.LFB134:
 147:riptideSTM/src/riptideFunctions.c **** 
 148:riptideSTM/src/riptideFunctions.c **** void convert(uint32_t * temp, uint32_t * press, float * temperature, float * pressure, float * dept
 692              		.loc 1 148 0
 693              		.cfi_startproc
 694              		@ args = 8, pretend = 0, frame = 0
 695              		@ frame_needed = 0, uses_anonymous_args = 0
 696              	.LVL79:
 697 0000 70B5     		push	{r4, r5, r6, lr}
 698              	.LCFI14:
 699              		.cfi_def_cfa_offset 16
 700              		.cfi_offset 4, -16
 701              		.cfi_offset 5, -12
 702              		.cfi_offset 6, -8
 703              		.cfi_offset 14, -4
 704 0002 0D46     		mov	r5, r1
 705 0004 1646     		mov	r6, r2
 706 0006 1C46     		mov	r4, r3
 149:riptideSTM/src/riptideFunctions.c **** 	*temperature = *temp / 100.0;
 707              		.loc 1 149 0
 708 0008 0068     		ldr	r0, [r0]
 709              	.LVL80:
 710 000a FFF7FEFF 		bl	__aeabi_ui2d
 711              	.LVL81:
 712 000e 0022     		movs	r2, #0
 713 0010 1B4B     		ldr	r3, .L58+16
 714 0012 FFF7FEFF 		bl	__aeabi_ddiv
 715              	.LVL82:
 716 0016 FFF7FEFF 		bl	__aeabi_d2f
 717              	.LVL83:
 718 001a 3060     		str	r0, [r6]	@ float
 150:riptideSTM/src/riptideFunctions.c **** 	*pressure = *press * 1.0;
 719              		.loc 1 150 0
 720 001c 2868     		ldr	r0, [r5]
 721 001e FFF7FEFF 		bl	__aeabi_ui2d
 722              	.LVL84:
 723 0022 FFF7FEFF 		bl	__aeabi_d2f
 724              	.LVL85:
 725 0026 2060     		str	r0, [r4]	@ float
 151:riptideSTM/src/riptideFunctions.c **** 	*depth = ((100.0 * *pressure) - 101300)/(fluidDensity * 9.80665);
 726              		.loc 1 151 0
 727 0028 FFF7FEFF 		bl	__aeabi_f2d
 728              	.LVL86:
 729 002c 0022     		movs	r2, #0
 730 002e 144B     		ldr	r3, .L58+16
 731 0030 FFF7FEFF 		bl	__aeabi_dmul
 732              	.LVL87:
 733 0034 0EA3     		adr	r3, .L58
 734 0036 D3E90023 		ldrd	r2, [r3]
 735 003a FFF7FEFF 		bl	__aeabi_dsub
 736              	.LVL88:
 737 003e 0446     		mov	r4, r0
ARM GAS  /var/folders/7p/1_dhylqx7nl5s8914_0f_4w00000gn/T//ccvBiTcM.s 			page 17


 738              	.LVL89:
 739 0040 0D46     		mov	r5, r1
 740              	.LVL90:
 741 0042 BDF81400 		ldrh	r0, [sp, #20]
 742 0046 FFF7FEFF 		bl	__aeabi_i2d
 743              	.LVL91:
 744 004a 0BA3     		adr	r3, .L58+8
 745 004c D3E90023 		ldrd	r2, [r3]
 746 0050 FFF7FEFF 		bl	__aeabi_dmul
 747              	.LVL92:
 748 0054 0246     		mov	r2, r0
 749 0056 0B46     		mov	r3, r1
 750 0058 2046     		mov	r0, r4
 751 005a 2946     		mov	r1, r5
 752 005c FFF7FEFF 		bl	__aeabi_ddiv
 753              	.LVL93:
 754 0060 FFF7FEFF 		bl	__aeabi_d2f
 755              	.LVL94:
 756 0064 049B     		ldr	r3, [sp, #16]
 757 0066 1860     		str	r0, [r3]	@ float
 758 0068 70BD     		pop	{r4, r5, r6, pc}
 759              	.LVL95:
 760              	.L59:
 761 006a 00BFAFF3 		.align	3
 761      0080
 762              	.L58:
 763 0070 00000000 		.word	0
 764 0074 40BBF840 		.word	1090042688
 765 0078 05A3923A 		.word	982688517
 766 007c 019D2340 		.word	1076075777
 767 0080 00005940 		.word	1079574528
 768              		.cfi_endproc
 769              	.LFE134:
 771              		.section	.rodata.Riptide_CDC_Receive.str1.4,"aMS",%progbits,1
 772              		.align	2
 773              	.LC2:
 774 0000 4000     		.ascii	"@\000"
 775 0002 0000     		.space	2
 776              	.LC3:
 777 0004 2300     		.ascii	"#\000"
 778 0006 0000     		.space	2
 779              	.LC0:
 780 0008 74687275 		.ascii	"thrust hell yeah \015\012\000"
 780      73742068 
 780      656C6C20 
 780      79656168 
 780      200D0A00 
 781              	.LC1:
 782 001c 6E6F7420 		.ascii	"not good enough kid\015\012\000"
 782      676F6F64 
 782      20656E6F 
 782      75676820 
 782      6B69640D 
 783              		.text
 784              	.Letext0:
 785              		.file 2 "/Users/augustmason/Documents/gitHub/riptide_firmware/STM32/gcc-arm-none-eabi-6-2017-q2-up
 786              		.file 3 "/Users/augustmason/Documents/gitHub/riptide_firmware/STM32/gcc-arm-none-eabi-6-2017-q2-up
ARM GAS  /var/folders/7p/1_dhylqx7nl5s8914_0f_4w00000gn/T//ccvBiTcM.s 			page 18


 787              		.file 4 "Drivers/CMSIS/Include/core_cm4.h"
 788              		.file 5 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/system_stm32f4xx.h"
 789              		.file 6 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f405xx.h"
 790              		.file 7 "/Users/augustmason/Documents/gitHub/riptide_firmware/STM32/gcc-arm-none-eabi-6-2017-q2-up
 791              		.file 8 "/Users/augustmason/Documents/gitHub/riptide_firmware/STM32/gcc-arm-none-eabi-6-2017-q2-up
 792              		.file 9 "/Users/augustmason/Documents/gitHub/riptide_firmware/STM32/gcc-arm-none-eabi-6-2017-q2-up
 793              		.file 10 "/Users/augustmason/Documents/gitHub/riptide_firmware/STM32/gcc-arm-none-eabi-6-2017-q2-u
 794              		.file 11 "/Users/augustmason/Documents/gitHub/riptide_firmware/STM32/gcc-arm-none-eabi-6-2017-q2-u
 795              		.file 12 "Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h"
 796              		.file 13 "Middlewares/ST/STM32_USB_Device_Library/Class/CDC/Inc/usbd_cdc.h"
 797              		.file 14 "Inc/usbd_cdc_if.h"
 798              		.file 15 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_gpio.h"
 799              		.file 16 "Inc/main.h"
ARM GAS  /var/folders/7p/1_dhylqx7nl5s8914_0f_4w00000gn/T//ccvBiTcM.s 			page 19


DEFINED SYMBOLS
                            *ABS*:0000000000000000 riptideFunctions.c
/var/folders/7p/1_dhylqx7nl5s8914_0f_4w00000gn/T//ccvBiTcM.s:18     .text.MessageCheck:0000000000000000 $t
/var/folders/7p/1_dhylqx7nl5s8914_0f_4w00000gn/T//ccvBiTcM.s:25     .text.MessageCheck:0000000000000000 MessageCheck
/var/folders/7p/1_dhylqx7nl5s8914_0f_4w00000gn/T//ccvBiTcM.s:100    .text.parse:0000000000000000 $t
/var/folders/7p/1_dhylqx7nl5s8914_0f_4w00000gn/T//ccvBiTcM.s:107    .text.parse:0000000000000000 parse
/var/folders/7p/1_dhylqx7nl5s8914_0f_4w00000gn/T//ccvBiTcM.s:172    .text.Riptide_CDC_Receive:0000000000000000 $t
/var/folders/7p/1_dhylqx7nl5s8914_0f_4w00000gn/T//ccvBiTcM.s:179    .text.Riptide_CDC_Receive:0000000000000000 Riptide_CDC_Receive
/var/folders/7p/1_dhylqx7nl5s8914_0f_4w00000gn/T//ccvBiTcM.s:275    .text.Riptide_CDC_Receive:000000000000006c $d
/var/folders/7p/1_dhylqx7nl5s8914_0f_4w00000gn/T//ccvBiTcM.s:284    .text.crc4:0000000000000000 $t
/var/folders/7p/1_dhylqx7nl5s8914_0f_4w00000gn/T//ccvBiTcM.s:291    .text.crc4:0000000000000000 crc4
/var/folders/7p/1_dhylqx7nl5s8914_0f_4w00000gn/T//ccvBiTcM.s:382    .text.calculate:0000000000000000 $t
/var/folders/7p/1_dhylqx7nl5s8914_0f_4w00000gn/T//ccvBiTcM.s:389    .text.calculate:0000000000000000 calculate
/var/folders/7p/1_dhylqx7nl5s8914_0f_4w00000gn/T//ccvBiTcM.s:670    .text.calculate:0000000000000200 $d
/var/folders/7p/1_dhylqx7nl5s8914_0f_4w00000gn/T//ccvBiTcM.s:683    .text.convert:0000000000000000 $t
/var/folders/7p/1_dhylqx7nl5s8914_0f_4w00000gn/T//ccvBiTcM.s:690    .text.convert:0000000000000000 convert
/var/folders/7p/1_dhylqx7nl5s8914_0f_4w00000gn/T//ccvBiTcM.s:763    .text.convert:0000000000000070 $d
/var/folders/7p/1_dhylqx7nl5s8914_0f_4w00000gn/T//ccvBiTcM.s:772    .rodata.Riptide_CDC_Receive.str1.4:0000000000000000 $d
                     .debug_frame:0000000000000010 $d

UNDEFINED SYMBOLS
atoi
HAL_GPIO_TogglePin
CDC_Transmit_HS
writePWM
__aeabi_ldivmod
__aeabi_ui2d
__aeabi_ddiv
__aeabi_d2f
__aeabi_f2d
__aeabi_dmul
__aeabi_dsub
__aeabi_i2d
